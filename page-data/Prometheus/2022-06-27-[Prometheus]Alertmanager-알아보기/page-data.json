{"componentChunkName":"component---src-templates-blog-post-js","path":"/Prometheus/2022-06-27-[Prometheus]Alertmanager-알아보기/","result":{"data":{"site":{"siteMetadata":{"title":"3DPIT Study Blog","author":"[KyeongMinPark]","siteUrl":"https://3dpit.github.io","comment":{"disqusShortName":"","utterances":"3dpit/3dpit.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"19b83cbc-0689-5ab9-8e8c-76f945f33392","excerpt":"2022-06-27-PrometheusAlertmanager-알아보기 목차 01.Alertmanager 관련 설정 02.Prometheus 설정 03.Rule 04.Alertmanager 05.실습 05.1 동작확인 06.알람매니저설치와 설정 06.1 api를 통해 받는 것 확인 06.2 inhibit_rules 설정 01.Alertmanager 관련 설정  prometheus파일, rule file, 알람 매니저 파일 부분을 살펴 볼것 prometheus파일 rule file…","html":"<h2 id=\"2022-06-27-prometheusalertmanager-알아보기\" style=\"position:relative;\"><a href=\"#2022-06-27-prometheusalertmanager-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\" aria-label=\"2022 06 27 prometheusalertmanager 알아보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2022-06-27-[Prometheus]Alertmanager-알아보기</h2>\n<h2 id=\"목차\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%EC%B0%A8\" aria-label=\"목차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목차</h2>\n<blockquote>\n<p>01.Alertmanager 관련 설정</p>\n<p>02.Prometheus 설정</p>\n<p>03.Rule</p>\n<p>04.Alertmanager</p>\n<p>05.실습</p>\n<p>05.1 동작확인</p>\n<p>06.알람매니저설치와 설정</p>\n<blockquote>\n<p>06.1 api를 통해 받는 것 확인</p>\n<blockquote>\n<p>06.2 inhibit_rules 설정</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<h2 id=\"01alertmanager-관련-설정\" style=\"position:relative;\"><a href=\"#01alertmanager-%EA%B4%80%EB%A0%A8-%EC%84%A4%EC%A0%95\" aria-label=\"01alertmanager 관련 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>01.Alertmanager 관련 설정</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 904px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpklEQVQoz11TV7LbQAzz/c+XTD5ej2WrPKtYbbsQgmspTjTDmV3DBAGSezIuwccN1icNJ7HaiNlE+JDv1seMyX0RbFFsg1w1nJwzlnAKISKEgOcvpk0SIrAl/P+FKAWcx+12wziO6Pse3vsHtuG0LAZlWcEYC2udhBVVEcYFXMsSbdtJ4iRJuShVM85FgfO5QNf1iDEd2MkICYG+HzBOE+73u5B5rVbXNYrLVQn3z4lyLwRVVUmxFtM0I4mjTCgKjXEoBbwJuK7msEXbpSgsiovYa/EtFs26aiE6+Pj4xEWK0fK2PREykT/WdaNBkIRMbJoGn1+/RfWorUgpq7Nin+qJG2MO9UrIA5vLasuySD+ikjGGYUDdfGvT+fveJ9peRW0nQqxzD7rtr8JZiCqp2HYd5nlWuyRkode3d+3xPsm8SlF7eLle9f//KLTWK9kgw3hWsRP++PlLp72rIFmQgiR8eX17wh5TZj+tNWpvmqZjn3QPhYB9Y/CckyL2vnNgHGiMj5XiHvIVRDlwlRgciHFRX8Q+nFwg6Z2viOH5emRXOaADk7w/b7VXNv81PtsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627092849433\"\n        title=\"image-20220627092849433\"\n        src=\"/static/99df0d13626ec906fd4396d27e2561a7/d9217/image-20220627092849433.png\"\n        srcset=\"/static/99df0d13626ec906fd4396d27e2561a7/5a46d/image-20220627092849433.png 300w,\n/static/99df0d13626ec906fd4396d27e2561a7/0a47e/image-20220627092849433.png 600w,\n/static/99df0d13626ec906fd4396d27e2561a7/d9217/image-20220627092849433.png 904w\"\n        sizes=\"(max-width: 904px) 100vw, 904px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>\n<p>prometheus파일, rule file, 알람 매니저 파일 부분을 살펴 볼것</p>\n<ul>\n<li><strong>prometheus파일</strong></li>\n<li>rule file에서의  적혀있는 규칙을 얼마 만큼 확일 할지에 대한 정보</li>\n<li>알람매니저 대상 정보</li>\n<li>사용할 규칙이 들어있는 rule_files의 위치가 적혀 있음</li>\n<li><strong>rule file</strong></li>\n<li>확인할 규칙에 대한 정보가 명시</li>\n<li><strong>알람매니저</strong></li>\n<li>특정 매체로 알람을 보낼 주기, 어떤 매체로 보낼지, 어떤 알람을 무시할지에 대해서</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"02prometheus-설정\" style=\"position:relative;\"><a href=\"#02prometheus-%EC%84%A4%EC%A0%95\" aria-label=\"02prometheus 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>02.Prometheus 설정</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 927px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVQoz21Si26DMBDr///eplV9raW00CbhESBAaVLv7lg0NBXJSjgSY/tu1fQBrxcQCN4HeNr4EMD1og0wjYe2T1mX4G/vsOrGF7quxTAMWD51N+Fjk+JwNjheK8H+rPF9KQVl93qLlRvpclXhmuWw1kIbA+cc3AO4qA6f2xS7RGN9yIjQ4HxrhHCXKFm5dkgLnLJazovCprFQWsM/Pdkn74Sm93SwRHpvUTnI33mN+2hxfp/rYpmVONchI4Xp5Ur7Xixb5/G1z0RZklsh5pUVZqZHXgyCzDj5diHMGQ7UFGqCUholWZ+mSQhbqjMBW1sf8l9rhmwWUo9ZcrZ8hlfJkC/yo7SBJtS1RQge3ThneKRLTMQXWFlUypkxIZ9J8hq3chTbkmHbtrjfFfp+wOPxkBy5nhejNIXJoiom2p6UdDyS8k9irmKZFZVlhaqqhXDO8ElWDDbHu9iNYJXLphTLfUuWeYBDiAP9B0tdVvUETTDNU4Y7Dvg8c+Ef5jn8AbYf+bbNNAYmAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627093411075\"\n        title=\"image-20220627093411075\"\n        src=\"/static/1d2e8868a38000486bd5ba2f1a5422df/e4374/image-20220627093411075.png\"\n        srcset=\"/static/1d2e8868a38000486bd5ba2f1a5422df/5a46d/image-20220627093411075.png 300w,\n/static/1d2e8868a38000486bd5ba2f1a5422df/0a47e/image-20220627093411075.png 600w,\n/static/1d2e8868a38000486bd5ba2f1a5422df/e4374/image-20220627093411075.png 927w\"\n        sizes=\"(max-width: 927px) 100vw, 927px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"03rule\" style=\"position:relative;\"><a href=\"#03rule\" aria-label=\"03rule permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>03.Rule</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 895px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVQoz22Ti26DMAxF+/9/N21St7XQQltCeT8KJCnhzvaUjm2NZDkk8sn1g00/zrjPDvbuYOwsnr/bYca1NsjbO+oBqG6LWNm7X+bP/P1m1A6Lc/i7+KG33QUfh6tAM4JzgId7v4Z9A82CJEkQn84oihLTpAU46AXhucZ7oPB5zAicIq00wS2yxoj6pwonCzRNjcslwTAMD4UDPbQ/lXgPFSLVErzCMWlwuNSy38e5KP8H1AJsoNIryrJClucEvmGkcw5mCKfHQezFRooZ/6fM+42+00VVIQwPaLtOUnZuFoXnfBCFuygnRQWlap82Zp26pNz3PQIGth20No8anq43AqZSw4DS5xquO742D5WmGK0RRTFO1Bhr7S9geC5FHdcsUg2Bi8cZ1/aY1PTQtFLIQGNEoVIploVxi6QcqQ7bQAloF2VSUx/IDfFWdPMPkOeQAY5mkWvHe16sPE47vGyPeP2IZWy2QSIdZvCzgZeU29FB2x+bDPuZ/hQnL/uZ44aw97ZuxHr/BVYqSeiziWnAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627093503918\"\n        title=\"image-20220627093503918\"\n        src=\"/static/7c7bea81dd2ff84a0c062f1ae2c70a2a/fcbaf/image-20220627093503918.png\"\n        srcset=\"/static/7c7bea81dd2ff84a0c062f1ae2c70a2a/5a46d/image-20220627093503918.png 300w,\n/static/7c7bea81dd2ff84a0c062f1ae2c70a2a/0a47e/image-20220627093503918.png 600w,\n/static/7c7bea81dd2ff84a0c062f1ae2c70a2a/fcbaf/image-20220627093503918.png 895w\"\n        sizes=\"(max-width: 895px) 100vw, 895px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"04alertmanager\" style=\"position:relative;\"><a href=\"#04alertmanager\" aria-label=\"04alertmanager permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>04.Alertmanager</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 801px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB50lEQVQoz2WSiY6qQBBF/f+fG8dxX1B2ELBpQHa4U1WI88wjqXSAcLhLLbJyQFaUKMoW3QA03Yi6GVC1A+6qwebkInjUiHQHP6kQ0jO+5zPJBzyK8eNc1B0QhgEMw4Dv+7BtG5nW4CvJWnzvTJobdhcf66ODn4ON7dnD3vBhBRnSEgKaoYu6BdJUYbPdETBAFMUYhgHjC8gK10dbzrMVCXBHwOMtlHs3en4qrAiYZxksy0ae50iSB/q+F4WPvMOS1C23N3xtDIGyusM1IFgMw3lIDB/AshmRMdB2oHUGpdJJ4cjA/mXTIouBqPPiUvLkDO9pC/Vky385voHni0HWtcxINB5V9FgRbLm9TtmJfQer/fQDVvdfKVU7IlWKynConDuK4il2GRjrVgCb01QGQ+wwlzI4uxnyUQorrOuKlKWI4xhlWf4DbETNam/KnMy7tKoriFUGzOcHUOsUHq2MIqVN274tcymskFv+WhuyOqyWyzmZ0SvHRjKdshz+FN5Mi4qx4biewPi6q0oaZnVcDNuWtbl4bzC/513lshgqGTYEvFAppmVJli2pnNeG14Q/5o+mhQ5E8eEaSimcqelr+DOwqEcUzxJX0yaFLoyrhSx/oh94sTsB/bxyZNj0A1fy5Mw4U57Z8i8AbYYiteI/0QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627093614485\"\n        title=\"image-20220627093614485\"\n        src=\"/static/f601c9aef5fdf6e18e3a5cc6e90ed937/2ad15/image-20220627093614485.png\"\n        srcset=\"/static/f601c9aef5fdf6e18e3a5cc6e90ed937/5a46d/image-20220627093614485.png 300w,\n/static/f601c9aef5fdf6e18e3a5cc6e90ed937/0a47e/image-20220627093614485.png 600w,\n/static/f601c9aef5fdf6e18e3a5cc6e90ed937/2ad15/image-20220627093614485.png 801w\"\n        sizes=\"(max-width: 801px) 100vw, 801px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"05실습\" style=\"position:relative;\"><a href=\"#05%EC%8B%A4%EC%8A%B5\" aria-label=\"05실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>05.실습</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">vim /prometheus/config/alerting.yml</code></pre></div>\n<ul>\n<li>\n<p>alerting.yml 파일 작성</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">global</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">evaluation_interval</span><span class=\"token punctuation\">:</span> 1s\n\n<span class=\"token key atrule\">alerting</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">alertmanagers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">static_configs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">targets</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> localhost<span class=\"token punctuation\">:</span><span class=\"token number\">9093</span>\n\n<span class=\"token key atrule\">rule_files</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token string\">\"./rules/*.yml\"</span>\n\n<span class=\"token key atrule\">scrape_configs</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">job_name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'node_exporter'</span>\n<span class=\"token key atrule\">scrape_interval</span><span class=\"token punctuation\">:</span> 3s\n<span class=\"token key atrule\">scrape_timeout</span><span class=\"token punctuation\">:</span> 1s\n<span class=\"token key atrule\">static_configs</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">targets</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> localhost<span class=\"token punctuation\">:</span><span class=\"token number\">9100</span></code></pre></div>\n</li>\n<li>\n<p>rules 폴더 생성</p>\n<ul>\n<li>/prometheus/config 위치에서 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">mkdir rules</code></pre></div>\n<ul>\n<li>링킹하기</li>\n</ul>\n<p>/prometheus/config 로 이동</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">cd /prometheus/config\n\nln -sf alerting.yml prometheus.yml\n\ncurl localhost:9090/-/reload -XPOST -D /dev/stdout</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 844px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVQI142MsQoEIQxErRXdVWyUtREbFRHF//+1ORLYg+uueEzIS0bsvXHOwRgDtVastdB7R2uN55wzSinsX8jNOTnJee8RY0RKCYKeqeh5ni8kQgjQWsMY85PXdXG+0J52933DWgtBBfTsnGPxSjpUSv2NlJL5AMDTTUqk1OCkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627095128068\"\n        title=\"image-20220627095128068\"\n        src=\"/static/99dbc4954b93143aa37321f70a0d03ed/33e10/image-20220627095128068.png\"\n        srcset=\"/static/99dbc4954b93143aa37321f70a0d03ed/5a46d/image-20220627095128068.png 300w,\n/static/99dbc4954b93143aa37321f70a0d03ed/0a47e/image-20220627095128068.png 600w,\n/static/99dbc4954b93143aa37321f70a0d03ed/33e10/image-20220627095128068.png 844w\"\n        sizes=\"(max-width: 844px) 100vw, 844px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li><a href=\"https://awesome-prometheus-alerts.grep.to/\">참고할만한 사이트</a></li>\n</ul>\n</li>\n<li>exporter 접근 안될때  파일 다운된 상황</li>\n<li>\n<p>ex.yml 파일 생성</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">vim rules/ex.yml</code></pre></div>\n<ul>\n<li>ex.yml 작성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">groups</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> example\n  <span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">alert</span><span class=\"token punctuation\">:</span> InstanceDown\n    <span class=\"token key atrule\">expr</span><span class=\"token punctuation\">:</span> up == 0\n    <span class=\"token key atrule\">for</span><span class=\"token punctuation\">:</span> 10s\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">severity</span><span class=\"token punctuation\">:</span> critical\n    <span class=\"token key atrule\">annotations</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">summary</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Instance {{ $labels.instance }} down\"</span></code></pre></div>\n<ul>\n<li>\n<p>값을 가져오고 싶은 경우 </p>\n<p><code class=\"language-text\">summary: \"Instance {{ $labels.instance }} {{ $value }} down\"</code></p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"051-동작확인\" style=\"position:relative;\"><a href=\"#051-%EB%8F%99%EC%9E%91%ED%99%95%EC%9D%B8\" aria-label=\"051 동작확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>05.1 동작확인</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 954px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJklEQVQoz5XRTUvDQBAG4P1/FUzBVmwVxYOgF0/+M7149KBQKkV7qFFrQ7XVmk32I5s1m9i+TkRBoWh7eHh3lmWZYVitsY2t3T3UN3dQrTdQXW9SNuHVGp/K8+raBipeHZXqbytlejV49Gb/8AgHhF2PNE7uz3A+HGB8c4xRcAq/1Ud62UGWF3CZmysjhXOQxsEfW3ARYcw5mKXLUEaIlEAsOaSOIZSC0hLF7B3F9G9uWmA2A3pxH13ugz2bV7SGHVwM2mg/dXH10oMvHsgAt0u4E8Fnsoi6e+QCw8ggThJoq6HIdy6LcZp7MuFI0zdYk8Kmdo50YUwIgSAIEIYhQvpcJxoJdfqTMWZhLMsylF0qRWNqDSlpIeVSvmprLfI8h6PllfmfD7KsPUGtDy6mAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627103624407\"\n        title=\"image-20220627103624407\"\n        src=\"/static/60e6d32ab9e9d196955f22b2242c2353/eb2af/image-20220627103624407.png\"\n        srcset=\"/static/60e6d32ab9e9d196955f22b2242c2353/5a46d/image-20220627103624407.png 300w,\n/static/60e6d32ab9e9d196955f22b2242c2353/0a47e/image-20220627103624407.png 600w,\n/static/60e6d32ab9e9d196955f22b2242c2353/eb2af/image-20220627103624407.png 954w\"\n        sizes=\"(max-width: 954px) 100vw, 954px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>현재는 Prometheus에서 확인하면 inactive 상태임</li>\n<li>\n<p>이때 node_exporter를 끄면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 950px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQoz52SW0/UQBSA+8MwMYsBBQExaEhMjNEXf4A/xRfffOFVjZEHHzQqlwddkYTlFl22pcW9dNvtbdputzOfbVkCITyok3w558ycOTPnos0v3uP+8iNuLywxObPEjZm7TM0tUpu9Q216jslb81yfmmWidpNrkwW1CxT2RG2aqZkFHjx+yvLDJ2jvvh+wUn/N2/oPdr48Z3vrFWtv1tE/fMQ4aXN8bFYYV2CaJodHJp+3DY703xw2TbQ4y3HCAb6IiSOHJAmIAkEmBH+7lBoRtlYYBQ00JZqI9hrBySdE7yuJs4WMGuTRLjJsVHrFRf3Cnir8VOnvfatsTQQ9PK+DO+iSRF2yuEeW2IwKsn9glDiMUhfNKupkdX3cICOMUoRIiUTyX4g4RevZNrph0O/3K4IwJLyCKDojGBONOT8TRd21uFBcu4MIBsShh/DdSj+z5TCGPCUbJsRJRppBOlRF8wo7jiuZJOlYJmhHbZ8dS2B40HIVTedU6gOF6Sl+OYpDWyJGFI916BkbDMMW7XYH2+4XHVZVp9M0xS4y1Fb3c56tZrysZ2xZknW9oCXZ1BV1S7FpKDb0HLucorhFb+8Fvvke1x0UpYjwg6AKJqUkzyVat+/ys3WM5zqXp+sSEqnOT/MqQE6WZZUsf1oG1QZun92mxf5JwJ7l0zA9HF9QZiJLpzHqDFlellcM96nfH2fdagRmD3xAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627103750153\"\n        title=\"image-20220627103750153\"\n        src=\"/static/da7b70f56e38f15fdd865ea81416dc21/906b5/image-20220627103750153.png\"\n        srcset=\"/static/da7b70f56e38f15fdd865ea81416dc21/5a46d/image-20220627103750153.png 300w,\n/static/da7b70f56e38f15fdd865ea81416dc21/0a47e/image-20220627103750153.png 600w,\n/static/da7b70f56e38f15fdd865ea81416dc21/906b5/image-20220627103750153.png 950w\"\n        sizes=\"(max-width: 950px) 100vw, 950px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>10초정도 pending이 됨</li>\n</ul>\n</li>\n<li>\n<p>그리고 Firing 상태로 넘어감</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 961px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5klEQVQoz5WSW2sTQRTH92tZkGixbZB4KyL4oI+++SX8JH4AwRehqAj6UkprG5O0kqRprtsmm2Qv2Znd2d1m9+fsRoogXjrMjznncGbmP+eMUa48ZPvJM8qVR9zeesB6Oecepc0KpY27Olbh5nqZtdIGa7c2f+NG6Q5blW2ev3jJ/cdPMT7VTnlT2+F9/ZjW/mtOGjscfTjA3N1jPJszmViM/8DUsmj2Lb61zxkNhpx1BxieDJlLB0cGyMUEKRyE45MIwf+OyyWoaoNobGGokcmiWsc5rOI1mvjf20TdHqrbJzrr/ZM4J89tdQiHJoY9njA19RNGc8R0TmjbKMe9Pq5H4HkYw9EI07JxpUIEAYFSBGF4hbwGQkoMy5rS7fWwdIGnugmet1ixyPHxfYEvJEIj9YZA11ZqgvxyuYoV/k/bCIVHJGzSSJAoTeivKGzdmGUEWcLyMiGKY1SWEqdpcWAYKpIkKVBRpC8VGF/PXN6dROyfQ/UCDkw41PaRpjbO/Yy9YYYXQ+IvmHzZxW936OtmOq7LcrksOp2rs20H4/Op4tXHiLd1xcBNaU5TWjmzlM48pT3LClskWqhWER03CQYj/EJhqEviFwrzka+Ga8+xLnSCa+tQ9lfSXz9flumZw9Ua65L8AHpjG5l9Lb8HAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627103827486\"\n        title=\"image-20220627103827486\"\n        src=\"/static/5776e905aa751fc7a4fa0599757f7442/024d6/image-20220627103827486.png\"\n        srcset=\"/static/5776e905aa751fc7a4fa0599757f7442/5a46d/image-20220627103827486.png 300w,\n/static/5776e905aa751fc7a4fa0599757f7442/0a47e/image-20220627103827486.png 600w,\n/static/5776e905aa751fc7a4fa0599757f7442/024d6/image-20220627103827486.png 961w\"\n        sizes=\"(max-width: 961px) 100vw, 961px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</li>\n</ul>\n<h2 id=\"06알람매니저설치와-설정\" style=\"position:relative;\"><a href=\"#06%EC%95%8C%EB%9E%8C%EB%A7%A4%EB%8B%88%EC%A0%80%EC%84%A4%EC%B9%98%EC%99%80-%EC%84%A4%EC%A0%95\" aria-label=\"06알람매니저설치와 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>06.알람매니저설치와 설정</h2>\n<ul>\n<li>\n<p>볼륨저장할 공간 설정</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">mkdir -p /alertmanager/config</code></pre></div>\n</li>\n<li>\n<p>도커 이용하여 알람매니저 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">docker run --net=host --name alertmanager1 -d \\\n-v /prometheus/alertmanager/config:/etc/alertmanager quay.io/prometheus/alertmanager:latest</code></pre></div>\n</li>\n<li>\n<p>alertmanager.yml 생성</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">vim /alertmanager/config/alertmanager.yml</code></pre></div>\n</li>\n<li>\n<p>alertmanager.yml 작성</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">route</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">group_by</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'alertname'</span><span class=\"token punctuation\">]</span>\n<span class=\"token key atrule\">group_wait</span><span class=\"token punctuation\">:</span> 3s\n<span class=\"token key atrule\">group_interval</span><span class=\"token punctuation\">:</span> 5s\n<span class=\"token key atrule\">repeat_interval</span><span class=\"token punctuation\">:</span> 20s\n<span class=\"token key atrule\">receiver</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'engineer'</span>\n\n<span class=\"token key atrule\">receivers</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'engineer'</span>\n<span class=\"token key atrule\">email_configs</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">to</span><span class=\"token punctuation\">:</span> id@gmail.com\n  <span class=\"token key atrule\">from</span><span class=\"token punctuation\">:</span> id@gmail.com\n  <span class=\"token key atrule\">smarthost</span><span class=\"token punctuation\">:</span> smtp.gmail.com<span class=\"token punctuation\">:</span><span class=\"token number\">587</span>\n  <span class=\"token key atrule\">auth_username</span><span class=\"token punctuation\">:</span> id@gmail.com\n  <span class=\"token key atrule\">auth_password</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"bskjhsfeiuvcbhl\"</span> </code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVQoz42R2wrDIBBE8///1bf+QAuljyGFlOBtNV6mXqItwYQODIrsnh11ICIkhRDQk3MO1trsfzRUWM9JjHFM0wvz/Ib3PjuEsqZhyeWs9AxHsMRLq+AcQghIKSOc5T2XBCY0tC42xmRoS9hTTUhKgceUSlG7uvMBW38enPa1/iThF7gsSwQqaNKg6A0F//PuDXiUrhasZkXv4yrsPjpcbmuJegbcg/fpvQ855XOyuD5MA34Am6ko0CPpphEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627105334895\"\n        title=\"image-20220627105334895\"\n        src=\"/static/b672ea550efec6455232ff8823ee004a/c1b63/image-20220627105334895.png\"\n        srcset=\"/static/b672ea550efec6455232ff8823ee004a/5a46d/image-20220627105334895.png 300w,\n/static/b672ea550efec6455232ff8823ee004a/0a47e/image-20220627105334895.png 600w,\n/static/b672ea550efec6455232ff8823ee004a/c1b63/image-20220627105334895.png 1200w,\n/static/b672ea550efec6455232ff8823ee004a/6c2de/image-20220627105334895.png 1334w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>이곳의 앱 비밀번호 생성후 auth_password 입력</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 930px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVQ4y52SDW7CMAyFe//j7CqTdgHYEHT0J21+Wjt5c1ySwYaQINInp7bz+uq0cc4hhIC2bbHf77Hb7TBNM7z3yLUcn6Epgl3XKfm5CL0smDfGGKUIvSL2T9DOs7j1LwndCgrnccKhN2jNjMna6vJZmnVdkVkEv2ysRCBaK7lOkmNmjcS0xatc0WlwWSklkCZJPnvRWCBiebvHPFt4qf3OOOgfkQXLarJQXsxRmoMe7Lpem7Ow94vGfHAYRljr0A8G3zIeM1mcu0HrxVQVzPER2nNx8X4IePuQC4wJEyVwTFrNbTeCQR06dWoDYXQks2WpRcS4Adl7yZnAiLLnmk/6wmbT29RjYatXV3+pc7+KxdiVQ7kMd4Kfj0qwR0TqheEuXPc9Ets7M4xyw+4gQp9Y7JfCywm8to+RnkimCv4ARzv3eSqiVnEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627111251384\"\n        title=\"image-20220627111251384\"\n        src=\"/static/db2c87fa7becc21d09c36934dbd100e0/416ee/image-20220627111251384.png\"\n        srcset=\"/static/db2c87fa7becc21d09c36934dbd100e0/5a46d/image-20220627111251384.png 300w,\n/static/db2c87fa7becc21d09c36934dbd100e0/0a47e/image-20220627111251384.png 600w,\n/static/db2c87fa7becc21d09c36934dbd100e0/416ee/image-20220627111251384.png 930w\"\n        sizes=\"(max-width: 930px) 100vw, 930px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>localhost:9093 들어가면 위에처럼 나오면 연결이 제대로 된것</li>\n<li>\n<p>알람 매니저에 보내지는 주기 확인 기본 1M</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 947px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVQY052QS0sDMRSF85/EhVTtQ51iqbQu2oW6c+ffVKZTf4J9LypYOxEmyaR5DMckqH2gFAx8nNx7z0lCSKtzg6h5jZOzS5QvGqhETZyeN1CqRjiu1YMelqp/cnBURqV+hdv7B7S7dyBx0oen139G4nh8ihH3ErwMhhiNJxiOxnvxvsl0FpRkWQYP5wKMcaccKaX47yLG2F8HRVHA2i/c3hgD77WbfbvtsdaCvC+XEHnuXsmQO1VaY6UUlNIB7WopV6D0A1yIUH/PftBrL3lbLJCmFPP5awhJKSFc0B/uL/KaMRa+Y7O3ixB5yH4C7lqi6Z5JGRAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627111440783\"\n        title=\"image-20220627111440783\"\n        src=\"/static/19000fb05bdf1223de15550e43718975/78597/image-20220627111440783.png\"\n        srcset=\"/static/19000fb05bdf1223de15550e43718975/5a46d/image-20220627111440783.png 300w,\n/static/19000fb05bdf1223de15550e43718975/0a47e/image-20220627111440783.png 600w,\n/static/19000fb05bdf1223de15550e43718975/78597/image-20220627111440783.png 947w\"\n        sizes=\"(max-width: 947px) 100vw, 947px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>주기 10s로 변경</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">--rules.alert.resend-delay=10s</code></pre></div>\n<ul>\n<li>\n<p>위를 추가해서 올려주면됨</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 955px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9ElEQVQY052O204CMRiE+0BGEwVFkKCSmOwVekO89BGNHD0kKoeNh7eASFigyx66y9ItGf/2DlQubPJlmpnppKxsVVAsW8gWznB4co4jQuvBcQmZ/KnRvWwBu5n8T8jf2c8hV7rA1fUNrMsqWPvhCa37R9QaLdSbbaO3d3U8v3bR7dvo9Gy8dHpb0R37/RP22wfYbMbBOYfv+4YgCDAeO/jvYWmqfg2UUtCZge5qtVr3NjFZCsZdF0mSIF4sSJfGlDI1qot6REpJvw8gRLR9VA9+jUaYTKcYDIdwnAmiOEYYCnosEBIiiuB5Htz5nPzQ+H9C3W+wEpsc5nv63wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627111751949\"\n        title=\"image-20220627111751949\"\n        src=\"/static/04d50106d34670345058990c81abbcd7/a0b80/image-20220627111751949.png\"\n        srcset=\"/static/04d50106d34670345058990c81abbcd7/5a46d/image-20220627111751949.png 300w,\n/static/04d50106d34670345058990c81abbcd7/0a47e/image-20220627111751949.png 600w,\n/static/04d50106d34670345058990c81abbcd7/a0b80/image-20220627111751949.png 955w\"\n        sizes=\"(max-width: 955px) 100vw, 955px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</li>\n</ul>\n</li>\n<li>\n<p>알람 매니저 사이트를 확인</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 812px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqklEQVQ4y62UzVbDIBCF8/7P48oXUTe1O422SQj/BLjOTJK2pl1olXPuYSDhY2YYaNq2xet+j91uh3eyQ4hwzom8979WczwewbLWwhgjk/fCBKj1iEGp08QKu9vDYRjQ9/2/wBagglLjn0EnYKcN3gYt6rQ9Hci9amJK8HEW29M03aVEa1lNrRUlZ1FeNE1nbcfzYtLFmHvmcGtKqdBULtY6fB6ohDo+oATrAoUQyI7QlIq2/cDh0EGNBqrroPsOI9nrPG8sQCav9FKKqLLqbOeN5/QXXlqPxxcNS54OIUl/8pCNyDn0gW4JiWwXC7SfEKcCLBtKasq86LkNeHjSCLnApAyfy3cg5yEuSeXchFQImpGWH+sNqDSBnL8JUDxYwpSQJRfrorqs20BJudSreQEm+mDpQTAUMks7L70nTyN9CzHKRj9pDBXgSBBlnMC4ZxlKNOfI0tx6grc8uvKQQ+RXxpKM1iJHL4+nA4mZVeHI5hBNnOAov/XCo0vwUocFI4OMpXozYrMsXyW6m5rmFY2550ow8szN4rt7BVzrbxvO+VTLuT5vjLfAL38KgAqiQsPCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627112010511\"\n        title=\"image-20220627112010511\"\n        src=\"/static/b6ec4530c2aa7681506644c26967c81d/63ec5/image-20220627112010511-16562964107691.png\"\n        srcset=\"/static/b6ec4530c2aa7681506644c26967c81d/5a46d/image-20220627112010511-16562964107691.png 300w,\n/static/b6ec4530c2aa7681506644c26967c81d/0a47e/image-20220627112010511-16562964107691.png 600w,\n/static/b6ec4530c2aa7681506644c26967c81d/63ec5/image-20220627112010511-16562964107691.png 812w\"\n        sizes=\"(max-width: 812px) 100vw, 812px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>위와 같이 알람이 들어감</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"061-api를-통해-받는-것-확인\" style=\"position:relative;\"><a href=\"#061-api%EB%A5%BC-%ED%86%B5%ED%95%B4-%EB%B0%9B%EB%8A%94-%EA%B2%83-%ED%99%95%EC%9D%B8\" aria-label=\"061 api를 통해 받는 것 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>06.1 api를 통해 받는 것 확인</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">tcpdump -i lo -A &#39;tcp port 9093&#39;</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1109px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEklEQVQoz32SSa6DQAxEOQFTmKcwbvIlViy4/8UcPUuFEIr+ouS2aVeXXQRd19k8z9b3vY3j6BEURWFVVTnKsrQ8zy1NU8uyzOq69vh6vbwuxHFsAWTbtlnbtvZ+v52MR7gAkchopgFSasQkSbwuRFFkAarWdb2IeH0YhovsrlCNqCdH5V0hjzghaJrG/j4f2/fdwjD8eRlFqCCSC+SCEzI2Ko7jsPM8/axdSSnKaKBO/hz3GnmaJidkhyLgTCOj/doh3547JHdCjGCHkMhlmaKxRXAn1Ij30S9TlmVxIrmMKTTJJK3gv5Gp+2/DyCgkQgTkImS4TK6xaBLBc4fuMk1AJPpBpYBLWjjuA84Cd3Xm2xcdvvwdlWq8NAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627112238350\"\n        title=\"image-20220627112238350\"\n        src=\"/static/2b181b25dc9c0a84c01e8ddc22c37bb6/8cae4/image-20220627112238350.png\"\n        srcset=\"/static/2b181b25dc9c0a84c01e8ddc22c37bb6/5a46d/image-20220627112238350.png 300w,\n/static/2b181b25dc9c0a84c01e8ddc22c37bb6/0a47e/image-20220627112238350.png 600w,\n/static/2b181b25dc9c0a84c01e8ddc22c37bb6/8cae4/image-20220627112238350.png 1109w\"\n        sizes=\"(max-width: 1109px) 100vw, 1109px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>swagger 양식을 이용하여 확인하기 [링크:<a href=\"https://github.com/prometheus/alertmanager/tree/main/api/v2\">click</a>]</li>\n<li>\n<p><a href=\"https://editor.swagger.io/\">https://editor.swagger.io/</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIUlEQVQoz2WSS2sTURiG55dUyM3cZiZzTayJRWiMFcnk0lYqoisRMba2C3+OK2lFrSgu3AriJi6kCy8gikRqM5lcJ4mpicnrd2aSoHTxcIbDnOe83/cdTlnkEeNFBAIBhEIhBINBZ/V6vfB4PFhYOAVJFGDcuIurN7dQ2tzGnc2dE5S2dnCrtA1OJZkuiRD5CMLhMKLRqAPP8xBFET6/H+vFIsqNKj512+hM/qAFYjJl+m1jgp+jAbi4JOGsoiKZSiGZTDoSifakWAyKosBPwlwuB7Ntwew1YfXbqPVa/0N71U4Dn60KOI0OpxYTSCTi0HXdkTGpIAiIkZQJ8/k8zE4TjUEXfUo0BE4wIsxxD1xCVaHpCniBn5fKmAlZb4uFAo7sJj5UvuLB3kPsvniCRy+fYff5U4c9tu4/xv7rV+AUSpRUNciy7EhYun/x+X0wsgYlG+HtwTukl5exdGEJSkJGNBIh3BB+jxe5a1fAsUPnNA1xXYMWJ7EiQxTEudznc4U9KuzN+zIuXVxBeiUNSZEg8O4/rJJg4DQK1zfAySyh5iYUY65oxlxoGLDHv1H+eIDV1TWsbawjmzdwOZt1yOYMZDIZ3L5/z014noRnaCCqpjpDYTcyZsI8Tbk+sGESXw4r+NGooUqTNY9t1Ai2WsS3Xs1NqE/TifQeWT9mb5GldIQ05brdhj0cYEC97I+HDt3hMZq/ujhsWDiqW/jeMvEXlK7UAJ8gwB8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627112824764\"\n        title=\"image-20220627112824764\"\n        src=\"/static/6db69b52c57ce417dd71b63c8be9b960/c1b63/image-20220627112824764.png\"\n        srcset=\"/static/6db69b52c57ce417dd71b63c8be9b960/5a46d/image-20220627112824764.png 300w,\n/static/6db69b52c57ce417dd71b63c8be9b960/0a47e/image-20220627112824764.png 600w,\n/static/6db69b52c57ce417dd71b63c8be9b960/c1b63/image-20220627112824764.png 1200w,\n/static/6db69b52c57ce417dd71b63c8be9b960/d61c2/image-20220627112824764.png 1800w,\n/static/6db69b52c57ce417dd71b63c8be9b960/fb1ef/image-20220627112824764.png 1879w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> localhost<span class=\"token punctuation\">:</span><span class=\"token number\">9093</span>\n<span class=\"token key atrule\">basePath</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/api/v2/\"</span>\n<span class=\"token key atrule\">schemes</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> http</code></pre></div>\n<ul>\n<li>위부분을 추가</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"startsAt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-06-27T02:28:12.953Z\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"endsAt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-06-28T02:28:12.953Z\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"annotations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"summary\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"test\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"labels\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"alertname\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"test\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>위와 같이 변경</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 892px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqklEQVQoz43Rz0sUYRzH8flfEidiJ7f58QzjuDOKTdgagofo0iWMzaiIDrKlRhfBVHZXsDoouKK3unio/6FjsGpg2upu2A+0XyylFrx7ZkZPos3hxZcHPt/v8314lJ+/f9HY2+UvHOvPQW3s70bZxv4en3a2qdbr1La2+PLtK5/lefvHd5S3H6qs1NdZ3lyj8n6VSnWVpY13LG0etVxbZ0U6rGFf1Ftbi3o2dj6iDAzlCXoDeq72kL3STfZyluBSQHtHO57n4fleXKXMMcKsYRiUnk2h3Lh9E6NVpy1wcS+4tEmiVZBOpxPTdZ2mU008Lk6g5G71Y2VMMkEG76IvefhZH8d3MHQDwzSi208ihOC0qjI2WUDp68/hdDl09nbinnexXTtiWmZ08/+GhSzLQm0+GHhdDhQdItpQOCIOhZsZJqaZjG3bcmBz/ORruT7UMyq6pdNyrgVNS5FKJadJZzUt2rD4RH7K85eLlJ5OMTM/J5VjC2Wm50OzCcS5mYU5XlfeoEyXZxl6+IjxQoFCscTY+AQjo6Pkhx8wMHg/kfzwIHfu3eXFq0X+AZ1ZzURQKcF/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627113122315\"\n        title=\"image-20220627113122315\"\n        src=\"/static/1c8170948f4b92c4db44db797641729f/1568e/image-20220627113122315.png\"\n        srcset=\"/static/1c8170948f4b92c4db44db797641729f/5a46d/image-20220627113122315.png 300w,\n/static/1c8170948f4b92c4db44db797641729f/0a47e/image-20220627113122315.png 600w,\n/static/1c8170948f4b92c4db44db797641729f/1568e/image-20220627113122315.png 892w\"\n        sizes=\"(max-width: 892px) 100vw, 892px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>이부분 복사해오기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">curl -X &#39;POST&#39; \\\n  &#39;http://192.168.100.116:9093/api/v2/alerts&#39; \\\n  -H &#39;accept: application/json&#39; \\\n  -H &#39;Content-Type: application/json&#39; \\\n  -d &#39;[\n  {\n    &quot;startsAt&quot;: &quot;2022-06-28T02:28:12.953Z&quot;,\n    &quot;endsAt&quot;: &quot;2022-06-29T02:28:12.953Z&quot;,\n    &quot;annotations&quot;: {\n      &quot;summary&quot;: &quot;test&quot;\n    },\n    &quot;labels&quot;: {\n      &quot;alertname&quot;: &quot;test&quot;\n    }\n  }\n]&#39;</code></pre></div>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 919px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVQ4y6WT3XKDIBSEff936mVfolftTJOMiVFE/hRhuwc0baadzqR1ZoMI+c6yQOO9hzEGx+MJh8MBbdsihADnXJGMP6JGfqw1OJ1OUEphmqYy8C+gcxZ93xNsb+7qd/9HIEF6HBH4HvzjkHsg3RgC22FEpw2Usbfl/kWNLFGkXYCy3CAfMM/zg6oMUYPtySkVJWpdf9OKGKvkXZRS3jFocq6dEOaydKVG9IMqfUfX3te263pc+wEjY9HDAKM1Bs67XDo6XKopsm5AcSbvaXP5kyId8m94ejF4frWIacU0R6wpfQeKdbftVGBFGzjZ18kyZy8mwLd+wfu4YGHfRxbbGPcOBSr5bZJYRBn3qnF9ArAV+w7kwZ6ZR7hcipZrj8jMIvNaqUTx9IOBluLFdWn3Xa39zyXzDlvjeMA1Jj1h5LlUDF02JVjeHF5JXnpkgvMO/KIvDitdXEwsrcKCkUHrNcNxyDLPtJtgzuCN2h399Nwc5vaMlUuNZ4pt6jqk67V8y2wzl5vPZ2Q6zb8APwAHA5P078FNsQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627113236461\"\n        title=\"image-20220627113236461\"\n        src=\"/static/410c3fa6c4dc122ea95300895465ecc7/6295b/image-20220627113236461.png\"\n        srcset=\"/static/410c3fa6c4dc122ea95300895465ecc7/5a46d/image-20220627113236461.png 300w,\n/static/410c3fa6c4dc122ea95300895465ecc7/0a47e/image-20220627113236461.png 600w,\n/static/410c3fa6c4dc122ea95300895465ecc7/6295b/image-20220627113236461.png 919w\"\n        sizes=\"(max-width: 919px) 100vw, 919px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>이렇게 설정한대로 바뀜</li>\n</ul>\n<h3 id=\"062-inhibit_rules-설정\" style=\"position:relative;\"><a href=\"#062-inhibit_rules-%EC%84%A4%EC%A0%95\" aria-label=\"062 inhibit_rules 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>06.2 inhibit_rules 설정</h3>\n<ul>\n<li>메모리 80프로이상 쓸때 경고</li>\n<li>90프로이상시 위험을 발생한다면 경고는 불필요한 알람이기 때문에 이부분을 무시하는 것</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">inhibit_rules</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">source_matchers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> serverity = critical\n  <span class=\"token key atrule\">target_matchers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> serverity = warning\n  <span class=\"token key atrule\">equal</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'alertname'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>위의 부분을 alerting.yml에 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">curl localhost:9093/-/reload -XPOST -D /dev/stdout</code></pre></div>\n<ul>\n<li>reload 진행</li>\n</ul>\n</li>\n<li>\n<p><strong>Warning</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">curl -X &#39;POST&#39;   &#39;http://192.168.100.116:9093/api/v2/alerts&#39;   -H &#39;accept: application/json&#39;   -H &#39;Content-Type: application/json&#39;   -d &#39;[\n{\n  &quot;startsAt&quot;: &quot;2022-06-17T02:28:12.953Z&quot;,\n  &quot;endsAt&quot;: &quot;2022-06-18T02:28:12.953Z&quot;,\n  &quot;annotations&quot;: {\n    &quot;summary&quot;: &quot;test&quot;\n  },\n  &quot;labels&quot;: {\n    &quot;alertname&quot;: &quot;MemoryShortage&quot;, &quot;serverity&quot;: &quot;warning&quot;\n  }\n}\n]&#39;</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 733px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVQ4y5VU7XKDIBDM+z9gm/ZHp5NMGz+iEQFBFLd7WqPtNCa9mR0Y4c7dW2DnnMX5nGO/3+P5+Qmvry9I0wTH4wFZlq6QjaMxGtaam9i1bQvvPZrG8sME7x2cc+N3ma9H2f83prUdGMMwXDFHjAMRH4akSv5uSo4oihJ1rXE6pTh9JmTsydbdhexTSuPt7R3Hw8dSMIQOfd9zg2OfLLquJ7qHILmT7LAUnGivJf+WtIWlZdceihmVUiNqMkzrFofCIVH+R8I9XAuKXKHff8sYWc343hxj/F9Bx2PhfIvGeQT2UBoQZS0uJ+ChgpLg+ghFqRndLlWNvLwgLQrOFWzoYfiTsixHlnPhv2JhSGgmKfayptMyVsZAc27pog0BtmlGJcMG08llTgJZKtuQVYmCDDMyLCqFJD/jUtdo+gG11tCq2mY4L4gUcVgx+VJV4zzLcxiyUpTs2FNLXFqeuf627B8FUz4ASZLwtpz4QGQo2cNAqZ7sO657FtKU38XhfkGJ8cSzwAyJ+Sj9jk1TZpcruizuSg/FadtFlNogJ/Ox6SszbjJcu9zwPmoaY/h0yVx6Feiq3NOtIuv4Ap7oNDxfCwufAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627144123842\"\n        title=\"image-20220627144123842\"\n        src=\"/static/71f0626b7d52f378f1c1e206b7a4c32b/00b70/image-20220627144123842.png\"\n        srcset=\"/static/71f0626b7d52f378f1c1e206b7a4c32b/5a46d/image-20220627144123842.png 300w,\n/static/71f0626b7d52f378f1c1e206b7a4c32b/0a47e/image-20220627144123842.png 600w,\n/static/71f0626b7d52f378f1c1e206b7a4c32b/00b70/image-20220627144123842.png 733w\"\n        sizes=\"(max-width: 733px) 100vw, 733px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</li>\n<li>\n<p><strong>Critical</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">curl -X &#39;POST&#39;   &#39;http://192.168.100.116:9093/api/v2/alerts&#39;   -H &#39;accept: application/json&#39;   -H &#39;Content-Type: application/json&#39;   -d &#39;[\n{\n  &quot;startsAt&quot;: &quot;2022-06-28T02:28:12.953Z&quot;,\n  &quot;endsAt&quot;: &quot;2022-06-29T02:28:12.953Z&quot;,\n  &quot;annotations&quot;: {\n    &quot;summary&quot;: &quot;test&quot;\n  },\n  &quot;labels&quot;: {\n    &quot;alertname&quot;: &quot;MemoryShortage&quot;, &quot;serverity&quot;: &quot;critical&quot;\n  }\n}\n]&#39;</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 810px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVQ4y5VU27KbMBDj/3+tj31ukjnT3AjGYPAFY1C1JknPJCRNPbOzGNuydiUorO2x222x2fzCdrtBWZY4HPa4XEpUVZWzUhW0ruGchex/F4X3Dm3b5ANKKfR9j67rcpYNtyxgIXh4/z4KrIx5nldjmqaneNyTAYVF2xoy1DidSjgfyOh9eO7pe4uvr9/Y74+ssGV7KhSCOo5jDtkk5aaUkDiXiHG8r9/j+k7WQhgwDAOfI3NcAAVANkieOA8xwQ0JYUzXUqYXMa+XLDcYMhN21jmofsBBezQ25oNrvXsVxa3ZIykv5USqMn1X6J9iPTFMBHTsRWcdeudhRRTOPcEj1+K1d58MAs48NMMQpKw1FNW+6AZnVUN39OE4oTGGXrR3lu/YLqIwejISoNp0qJo2A58rBUPGPk3QdY1A434HXWW4INOLFKOlKMJGE6zWGh3fmYF2otpSgYvjE7vHC4rbpCaD8/mM4/GIklnxOw7sYceSpY+GVupieirxJaA0XizjQ8AgSn84Hsu/A4oHjWkzU4kL/zqidkODD9LDEDPDnfH4cWrwU9nc25cMOxGDIsgfRwAdVRV/imCJLhDQkfOeoCdjecGY11YBZSr9WjzoswfHac7+FND/Kll8OPBwSzCxSUXriG2ESUsfNk3z1ncrDK834W+WmB4+uU/HH1Po0T/yrmxCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220627144135282\"\n        title=\"image-20220627144135282\"\n        src=\"/static/b5a4789952715dad00fe00deb17a9356/d7542/image-20220627144135282.png\"\n        srcset=\"/static/b5a4789952715dad00fe00deb17a9356/5a46d/image-20220627144135282.png 300w,\n/static/b5a4789952715dad00fe00deb17a9356/0a47e/image-20220627144135282.png 600w,\n/static/b5a4789952715dad00fe00deb17a9356/d7542/image-20220627144135282.png 810w\"\n        sizes=\"(max-width: 810px) 100vw, 810px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</li>\n</ul>","frontmatter":{"title":"Prometheus Alertmanager 알아보기","date":"June 27, 2022"}}},"pageContext":{"slug":"/Prometheus/2022-06-27-[Prometheus]Alertmanager-알아보기/","previous":{"fields":{"slug":"/Algorithm/2022-06-26-2021-카카오인턴-수식최대화/"},"frontmatter":{"title":"2021-카카오인턴-수식최대화"}},"next":{"fields":{"slug":"/DataBase/2022-06-28-데이터분석을-위한-SQL레시피-1일차/"},"frontmatter":{"title":"데이터분석을 위한 SQL레시피 1일차"}}}},"staticQueryHashes":["2486386679","3128451518"]}