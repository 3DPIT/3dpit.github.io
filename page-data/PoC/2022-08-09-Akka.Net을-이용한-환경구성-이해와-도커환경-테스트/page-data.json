{"componentChunkName":"component---src-templates-blog-post-js","path":"/PoC/2022-08-09-Akka.Net을-이용한-환경구성-이해와-도커환경-테스트/","result":{"data":{"site":{"siteMetadata":{"title":"3DPIT Study Blog","author":"[KyeongMinPark]","siteUrl":"https://3dpit.github.io","comment":{"disqusShortName":"","utterances":"3dpit/3dpit.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"2163c0a8-fef7-5e05-add3-d18db83f608b","excerpt":"완료조건(주요결과) AKka.NET의 코드 이해와 이전의 RESTFUL API를 연동하여 도커화 진행하기 목차 00.프로젝트 생성  ASP.NET Core Web API 검색  옵션 선택 Enable Docker,  Docker OS 선택 01.CliWrap 사용해보기  NuGet Package에서 CliWrap검색해서 설치진행 우선위와 같이 입력을 하고 진행을 하게되면 서비스를 죽일 수 있게됨 이름으로 ip 찾아서 죽이는 것 02.API에 기능 추가해보기 서비스 죽이는 것 json…","html":"<h2 id=\"완료조건주요결과\" style=\"position:relative;\"><a href=\"#%EC%99%84%EB%A3%8C%EC%A1%B0%EA%B1%B4%EC%A3%BC%EC%9A%94%EA%B2%B0%EA%B3%BC\" aria-label=\"완료조건주요결과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>완료조건(주요결과)</h2>\n<ul>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> AKka.NET의 코드 이해와 이전의 RESTFUL API를 연동하여 도커화 진행하기</li>\n</ul>\n<h2 id=\"목차\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%EC%B0%A8\" aria-label=\"목차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목차</h2>\n<h2 id=\"00프로젝트-생성\" style=\"position:relative;\"><a href=\"#00%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\" aria-label=\"00프로젝트 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>00.프로젝트 생성</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 958px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABhklEQVQozz2R626bQBCFef/3qVRVbWNEYjc4ThPXJHGJbe6I2waDlwUWcjK7UvLjaDUw8+3ZM0bXCYRBgNPJQ55n8H0fl8sF8zShjyK0SaLF0xR9nn+pSVLwKME0SYzjiGEYIaWEwXmngZ7noes6apj0D0lNIo7BlKIQnCCiqtDmBcY3hjor0MYp5DxhoJmmlxhoxhBCkLMcRVmiooEsy9A0DaZ5Rk919bJHR25kUUBEBHcPuIQJZuoT5Jr5AXhMTutam9BABWKMoaxKDWvbFu90a0HDC8vG94WNb7+W+PFzCdPcwLQdXC3WMH/bsK7WsP78Q+p6mOmFGng+n7UUVNWcc8xyRHkIYG9PuLG3uFn+hXm9gbV6wO39C1ZrB6s7B9b6GebGRfwa4L3jMFRuCqSAfd/r/PRSKBv2esLj9R3+7/Z4un/CcbtH6Lj6DHYuQpI6/cc9auqdegFDQVjNUFBG6umfbhVY0GUhbd2hHJV8WpxH9e7o4XA8IqZlqm/PYYx+GPTMB559ByzWg725AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220809114111603\"\n        title=\"image-20220809114111603\"\n        src=\"/static/417f2b45fe372b57a1fab1a48c61bfa4/b97f6/image-20220809114111603.png\"\n        srcset=\"/static/417f2b45fe372b57a1fab1a48c61bfa4/5a46d/image-20220809114111603.png 300w,\n/static/417f2b45fe372b57a1fab1a48c61bfa4/0a47e/image-20220809114111603.png 600w,\n/static/417f2b45fe372b57a1fab1a48c61bfa4/b97f6/image-20220809114111603.png 958w\"\n        sizes=\"(max-width: 958px) 100vw, 958px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>ASP.NET Core Web API 검색</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVQoz31T2XKjMBD0//9S3pLaqs0v2OUEjDlsMIcQlyTS2yMC8bpceeiSGM20ejTNTmuN4/GIw36P8zlGFEVI4hgfn4Hfy1mWXeCc87DWbvt7SNwYg13f974wTRJcr1fEJMvznCj8d5ZlKIoCkieXyyroum5Z+87HhUxId3KQpimuLKrr2pOUZYlhGLYipRSapkFVVdteEW3bbvGNsGdRRsI0v/lkSRQSIbzHOI4e615pKh1GzPNDyyI3YbvScpSkyKlUlD0S3mMiYVG3qFRHsoVoUzhQTXkrIUrbfoCbZzi73PgbnF9XIrPFd+NkUKsWWt6MUP0I4w/drzDfLS6kzF8V6jBE9PKC4PUNp7c/qD9DGL6JmaYF3+08g383u5CZVeFAy1R/36H3B8zHD9CMcJcLZtpF4DgwmzyAMcPVsNbyqUTApnBIMzQ0dUf/6egMfTqhC0/QQQAVhOjjFDMvcGLuyw8sYZhn6Yz/CFtOWXwokxb7xCws6gaaHlM868Zpa+0R1rknLXMQZXnzf4P8IWLsnFNX9NjX/OMv+wRrfCWV3H+A+Js1ikvYvQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220809114151574\"\n        title=\"image-20220809114151574\"\n        src=\"/static/3f0802e092d48c880eaddeb7b12a5985/e5715/image-20220809114151574.png\"\n        srcset=\"/static/3f0802e092d48c880eaddeb7b12a5985/5a46d/image-20220809114151574.png 300w,\n/static/3f0802e092d48c880eaddeb7b12a5985/0a47e/image-20220809114151574.png 600w,\n/static/3f0802e092d48c880eaddeb7b12a5985/e5715/image-20220809114151574.png 768w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>옵션 선택 Enable Docker,  Docker OS <code class=\"language-text\">Linux</code>선택</li>\n</ul>\n<h2 id=\"01cliwrap-사용해보기\" style=\"position:relative;\"><a href=\"#01cliwrap-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"01cliwrap 사용해보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>01.CliWrap 사용해보기</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 715px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjklEQVQozz2TuY7TUBSGU1ICD8ADgERHQUODhKDkKSgQQjQMOw2LqHgLaEBCgAYBwySZgcwCmZnssZ3FsWPH+3WWERLbx7FZil/n3nN8//OfxYVHyzrXnjW5+1Ln5vMWl540ePymQ6PVZUezqTYMNqsNNr40aBkjdps6lc81tnZbbIh/e69NSzfpWT6G6VEw7YC65hBFUyzLwbYnBGGKbphsdyfY3hRDzp1un06nR7OlY/RGklDLbafboy3+tsQdN6Qwmy1IleLnt2/w8we/vn9nf7HPfDpjHkcErks48ZimC9RsjhJ/do4ihTm0RYRLHCbEUYIznlDYKe6wVapTWauzVtyjtLrHWqnGuqBcrPGxLBBrtTX8hoe5a6P3+4xGrpCmRKFCM0NMJ2HsRhROXXzFycsVDt/4yJHbFQ5eXefg0jqHBAeulChcWBGs8vT1Z74OA5x+hOsFeF5EKkqTZIblxjh+immJwvPXX3D0yjKn7xU5+6DMuYdlztwvcfLOB07cWuH40luOLb3j/dsq0cTBGFr4Xij98gijmDhOGdsu1mgsVgi1ao3K+w/sfdpm7c0K5eUVPr0rsrW6Tr3yhbE0e2IMUa5P4McMBiPssSdE0z8l/0WmdOz4FAI1Y5LOGI4cNHnYFwVGf5SjL00PkynJdB8l37hCqusyTXmYqHlO+g9K7jlhx1a8rPs0azKYyjZVUbxR2WJzs8qgb2INDXw/kU2YYpo2jUaHoSTK1suWCWdTzs8CKys52znHU/REXbuto2k92bshLVnswcDKlWTlKKkkI+xKPJTJOo4niWKCIMlbkfnG0opCJjdVs1zyn4fz/8juWTyzqZSc7V1TEmW+/AcQMqUWf+OLvBW/AabMA1jmWELaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220809131706964\"\n        title=\"image-20220809131706964\"\n        src=\"/static/11bce5bc72430d4b4febfe23e361e091/d0c0e/image-20220809131706964.png\"\n        srcset=\"/static/11bce5bc72430d4b4febfe23e361e091/5a46d/image-20220809131706964.png 300w,\n/static/11bce5bc72430d4b4febfe23e361e091/0a47e/image-20220809131706964.png 600w,\n/static/11bce5bc72430d4b4febfe23e361e091/d0c0e/image-20220809131706964.png 715w\"\n        sizes=\"(max-width: 715px) 100vw, 715px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>NuGet Package에서 CliWrap검색해서 설치진행</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">CliWrap</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdOutBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdErrBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> exeCommand <span class=\"token operator\">=</span> <span class=\"token string\">\"PowerShell.exe\"</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 실행 지정                </span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> computerIp <span class=\"token operator\">=</span> <span class=\"token string\">\"192.168.100.116\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> pid <span class=\"token operator\">=</span> <span class=\"token string\">\"60144\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> scriptBlock <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"cmd.exe /c taskkill /f /pid \"</span></span><span class=\"token operator\">+</span> pid<span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> userName <span class=\"token operator\">=</span> <span class=\"token string\">\"km.park\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> passWord <span class=\"token operator\">=</span> <span class=\"token string\">\"mirero\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> script <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"-Command \\\" &amp; {{Invoke-Command -ComputerName </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">computerIp</span><span class=\"token punctuation\">}</span></span><span class=\"token string\"> -ScriptBlock {{ </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">scriptBlock</span><span class=\"token punctuation\">}</span></span><span class=\"token string\"> }} -Authentication Negotiate -Credential (New-Object System.Management.Automation.PSCredential </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">userName</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">, (ConvertTo-SecureString -AsPlainText -Force </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">passWord</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">))  -SessionOption (New-PSSessionOption -SkipCACheck -SkipCNCheck) }}\\\"\"</span></span><span class=\"token punctuation\">;</span>\n\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"\\nscript: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">script</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Cli<span class=\"token punctuation\">.</span><span class=\"token function\">Wrap</span><span class=\"token punctuation\">(</span>exeCommand<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithArguments</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardOutputPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdOutBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardErrorPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdErrBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token punctuation\">.</span><span class=\"token function\">ExecuteAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdOut <span class=\"token operator\">=</span> stdOutBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdErr <span class=\"token operator\">=</span> stdErrBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Info:\"</span> <span class=\"token operator\">+</span> stdOut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error:\"</span> <span class=\"token operator\">+</span> stdErr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>우선위와 같이 입력을 하고 진행을 하게되면 서비스를 죽일 수 있게됨</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">CliWrap</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdOutBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdErrBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> exeCommand <span class=\"token operator\">=</span> <span class=\"token string\">\"PowerShell.exe\"</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 실행 지정                </span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> computerIp <span class=\"token operator\">=</span> <span class=\"token string\">\"192.168.100.116\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> pid<span class=\"token operator\">=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> scriptBlock<span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> userName <span class=\"token operator\">=</span> <span class=\"token string\">\"km.park\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> passWord <span class=\"token operator\">=</span> <span class=\"token string\">\"mirero\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> serviceName <span class=\"token operator\">=</span> <span class=\"token string\">\"ServiceNormal_60s Service Name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> script <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"-Command \\\" &amp; {{ cmd.exe /c sc queryex '\"</span></span><span class=\"token operator\">+</span> serviceName <span class=\"token operator\">+</span> <span class=\"token string\">\"'}\\\"\"</span><span class=\"token punctuation\">;</span>\n\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"\\nscript: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">script</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Cli<span class=\"token punctuation\">.</span><span class=\"token function\">Wrap</span><span class=\"token punctuation\">(</span>exeCommand<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithArguments</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardOutputPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdOutBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardErrorPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdErrBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token punctuation\">.</span><span class=\"token function\">ExecuteAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdOut <span class=\"token operator\">=</span> stdOutBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdErr <span class=\"token operator\">=</span> stdErrBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Info:\"</span> <span class=\"token operator\">+</span> stdOut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error:\"</span> <span class=\"token operator\">+</span> stdErr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> index <span class=\"token operator\">=</span> stdOut<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PID\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> index <span class=\"token operator\">+</span> <span class=\"token number\">21</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">!</span>stdOut<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">Equals</span><span class=\"token punctuation\">(</span><span class=\"token char\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    pid <span class=\"token operator\">+=</span> stdOut<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nscriptBlock <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"cmd.exe /c taskkill /f /pid \"</span></span> <span class=\"token operator\">+</span> pid<span class=\"token punctuation\">;</span>\n\nscript <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"-Command \\\" &amp; {{Invoke-Command -ComputerName </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">computerIp</span><span class=\"token punctuation\">}</span></span><span class=\"token string\"> -ScriptBlock {{ </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">scriptBlock</span><span class=\"token punctuation\">}</span></span><span class=\"token string\"> }} -Authentication Negotiate -Credential (New-Object System.Management.Automation.PSCredential </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">userName</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">, (ConvertTo-SecureString -AsPlainText -Force </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">passWord</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">))  -SessionOption (New-PSSessionOption -SkipCACheck -SkipCNCheck) }}\\\"\"</span></span><span class=\"token punctuation\">;</span>\n\nresult <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Cli<span class=\"token punctuation\">.</span><span class=\"token function\">Wrap</span><span class=\"token punctuation\">(</span>exeCommand<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithArguments</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardOutputPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdOutBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardErrorPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdErrBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">ExecuteAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstdOut <span class=\"token operator\">=</span> stdOutBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstdErr <span class=\"token operator\">=</span> stdErrBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Info:\"</span> <span class=\"token operator\">+</span> stdOut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error:\"</span> <span class=\"token operator\">+</span> stdErr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>이름으로 ip 찾아서 죽이는 것</li>\n</ul>\n<h2 id=\"02api에-기능-추가해보기\" style=\"position:relative;\"><a href=\"#02api%EC%97%90-%EA%B8%B0%EB%8A%A5-%EC%B6%94%EA%B0%80%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"02api에 기능 추가해보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>02.API에 기능 추가해보기</h2>\n<ul>\n<li>서비스 죽이는 것</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\">app<span class=\"token punctuation\">.</span><span class=\"token function\">MapPost</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/programKillOrder\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SendMessage</span> info<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n<span class=\"token punctuation\">{</span>\n    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdOutBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdErrBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> exeCommand <span class=\"token operator\">=</span> <span class=\"token string\">\"Powershell.exe\"</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 실행 지정                </span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> computerIp <span class=\"token operator\">=</span> info<span class=\"token punctuation\">.</span>Ip<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> pid <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> scriptBlock<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> userName <span class=\"token operator\">=</span> info<span class=\"token punctuation\">.</span>Username<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> passWord <span class=\"token operator\">=</span> info<span class=\"token punctuation\">.</span>Password<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> serviceName <span class=\"token operator\">=</span> info<span class=\"token punctuation\">.</span>ServiceName<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> script <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"-Command \\\" &amp; {{ cmd.exe /c sc queryex '\"</span></span> <span class=\"token operator\">+</span> serviceName <span class=\"token operator\">+</span> <span class=\"token string\">\"'}\\\"\"</span><span class=\"token punctuation\">;</span>\n\n    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"\\nscript: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">script</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Cli<span class=\"token punctuation\">.</span><span class=\"token function\">Wrap</span><span class=\"token punctuation\">(</span>exeCommand<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">WithArguments</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardOutputPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdOutBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardErrorPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdErrBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">ExecuteAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdOut <span class=\"token operator\">=</span> stdOutBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stdErr <span class=\"token operator\">=</span> stdErrBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Info:\"</span> <span class=\"token operator\">+</span> stdOut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error:\"</span> <span class=\"token operator\">+</span> stdErr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> index <span class=\"token operator\">=</span> stdOut<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PID\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> index <span class=\"token operator\">+</span> <span class=\"token number\">21</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">!</span>stdOut<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">Equals</span><span class=\"token punctuation\">(</span><span class=\"token char\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> pid <span class=\"token operator\">+=</span> stdOut<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    scriptBlock <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"cmd.exe /c taskkill /f /pid \"</span></span> <span class=\"token operator\">+</span> pid<span class=\"token punctuation\">;</span>\n\n    script <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"-Command \\\" &amp; {{Invoke-Command -ComputerName </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">computerIp</span><span class=\"token punctuation\">}</span></span><span class=\"token string\"> -ScriptBlock {{ </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">scriptBlock</span><span class=\"token punctuation\">}</span></span><span class=\"token string\"> }} -Authentication Negotiate -Credential (New-Object System.Management.Automation.PSCredential </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">userName</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">, (ConvertTo-SecureString -AsPlainText -Force </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">passWord</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">))  -SessionOption (New-PSSessionOption -SkipCACheck -SkipCNCheck) }}\\\"\"</span></span><span class=\"token punctuation\">;</span>\n\n    result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Cli<span class=\"token punctuation\">.</span><span class=\"token function\">Wrap</span><span class=\"token punctuation\">(</span>exeCommand<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">WithArguments</span><span class=\"token punctuation\">(</span>script<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardOutputPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdOutBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">WithStandardErrorPipe</span><span class=\"token punctuation\">(</span>PipeTarget<span class=\"token punctuation\">.</span><span class=\"token function\">ToStringBuilder</span><span class=\"token punctuation\">(</span>stdErrBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">ExecuteAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    stdOut <span class=\"token operator\">=</span> stdOutBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    stdErr <span class=\"token operator\">=</span> stdErrBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Info:\"</span> <span class=\"token operator\">+</span> stdOut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error:\"</span> <span class=\"token operator\">+</span> stdErr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> info<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">WithName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"programKillOrder\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>json 보내는 형식</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"ip\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"192.168.100.116\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"mirero\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"km.park\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"serviceName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ServiceNormal_60s Service Name\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 902px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHklEQVQ4y5WTS3PTMBDH/f2/AAMzvK7cGDhw4dSBnmA6kDRkSLAdO7blp2Rbsiw7/XcVh5RACeXwm93VSvuQVk4cxgi8EK63QRBu4fkBuk6j73toov8PpJJwXroXeLR6j9nWxbXvYhF4cLMYsawQteXfaYqDnLD7Q5HDmZcBPiVr5KqG0Aq8a8G1RDN0aMw9DBqN9fMCDYv2MhMFNmkCRrqzqRiuY38fveolCt1MdGeg5EVdglMg3nJkRER6StIpZI28EQQHp42cgv4LYRQyKeBRhT5VFuYMcZUjKjM4qagQlyVlFFC9Rjv0qHWHmnRL8xv1YU9O+7+t1lj+cOFFEeI8R5gyOFHTIikFgqyEu2VIeIN6GCF6Q5UYqsig0v0pXb9fb8cdGsLur81AV2XgZErh+2yJxdUc6/kS27WHKqe7qal9IdBKifFmh2E3/oEZhyPjzYiWCnBYK6GNnTmaPXJ01K6kJIrmyl5BR76eDlvfOWyChqp2UqkwUAXGZrRY/Vf7GGx8aEB5PGR2dy3s9QdyDDi1rKCHHTq62HPofYX3Y33GPo6tkNHstaOi11JHWQ+ntpUF/aKU7jbrftIduLMT6tZZ0ou+/pri7TzFm9kk3y2yE9v65zENME/gVwns73KLGB5hdbvml7TOaQ6/xAUeXyR49pHh6QeGF5cMrz5neH452Xb9CfmvgoS+V0oHGQKeYsVCrNPtXp+CTtwCJGl3DMcSqIwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220809142043626\"\n        title=\"image-20220809142043626\"\n        src=\"/static/e612a52d1ea10294a7d7ae438f4bc59b/58213/image-20220809142043626.png\"\n        srcset=\"/static/e612a52d1ea10294a7d7ae438f4bc59b/5a46d/image-20220809142043626.png 300w,\n/static/e612a52d1ea10294a7d7ae438f4bc59b/0a47e/image-20220809142043626.png 600w,\n/static/e612a52d1ea10294a7d7ae438f4bc59b/58213/image-20220809142043626.png 902w\"\n        sizes=\"(max-width: 902px) 100vw, 902px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 706px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVQoz4VRawuCMBRdqYW9LA2prAgCf2bNZ2r95xPnwkRB68Nh293dedypU3XERE+gtJLVgGf1HIAegbkj4a7Y4VyfMUtnWGZLgVd4CF8hDtUB1+aKdb7GVE+HRZ4dUkvbsBMbQRnIA5LSIWtRHSH+xLjUFxHdFlssskVPdJNv+g7n6VxI7u+7OCLYxPq+3MPNXGk2IlZitTDnHiGLfMzIq3zVRqAjUX+o8ZhDkTkb4tbchJhR6Irx/NKXPUV/fkjXISPSNmM7iQMzgi7az9D/8QU+29mAUmCmgQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220809142625760\"\n        title=\"image-20220809142625760\"\n        src=\"/static/2f7c16b4a8d5b366eeffe8ed772ab400/9f21b/image-20220809142625760.png\"\n        srcset=\"/static/2f7c16b4a8d5b366eeffe8ed772ab400/5a46d/image-20220809142625760.png 300w,\n/static/2f7c16b4a8d5b366eeffe8ed772ab400/0a47e/image-20220809142625760.png 600w,\n/static/2f7c16b4a8d5b366eeffe8ed772ab400/9f21b/image-20220809142625760.png 706w\"\n        sizes=\"(max-width: 706px) 100vw, 706px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>일단 문제는 docker에서 실행하면 안됨 이유는 powershell이 설치 안되어있기때문에 이를 하기 위해 powershell이랑 원격제어를 위한 ntlm..을 설치해야함</li>\n</ul>\n<h2 id=\"03powershell-gss-ntlmssp-추가-하기\" style=\"position:relative;\"><a href=\"#03powershell-gss-ntlmssp-%EC%B6%94%EA%B0%80-%ED%95%98%EA%B8%B0\" aria-label=\"03powershell gss ntlmssp 추가 하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>03.Powershell, gss-ntlmssp 추가 하기</h2>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\">#See https://aka.ms/containerfastmode to understand how Visual Studio uses this Dockerfile to build your images for faster debugging.</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> ubuntu </span>\n<span class=\"token instruction\"><span class=\"token keyword\">ENV</span> builddir=build</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> mkdir <span class=\"token operator\">\\</span><span class=\"token variable\">${builddir}</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get update</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get install -y wget apt-transport-https software-properties-common</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> wget -q <span class=\"token string\">\"https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/packages-microsoft-prod.deb\"</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> dpkg -i packages-microsoft-prod.deb</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get update</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> add-apt-repository universe</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get install -y powershell</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get install -y gss-ntlmssp</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> mcr.microsoft.com/powershell:lts-7.2-nanoserver-1809</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> mcr.microsoft.com/dotnet/sdk:6.0 <span class=\"token keyword\">AS</span> build</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /src</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> [<span class=\"token string\">\"RemoteProcessKill/RemoteProcessKill.csproj\"</span>, <span class=\"token string\">\"RemoteProcessKill/\"</span>]</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> dotnet restore <span class=\"token string\">\"RemoteProcessKill/RemoteProcessKill.csproj\"</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> <span class=\"token string\">\"/src/RemoteProcessKill\"</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> dotnet build <span class=\"token string\">\"RemoteProcessKill.csproj\"</span> -c Release -o /app/build</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> build <span class=\"token keyword\">AS</span> publish</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> dotnet publish <span class=\"token string\">\"RemoteProcessKill.csproj\"</span> -c Release -o /app/publish</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> base <span class=\"token keyword\">AS</span> final</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> <span class=\"token options\"><span class=\"token property\">--from</span><span class=\"token punctuation\">=</span><span class=\"token string\">publish</span></span> /app/publish .</span>\n<span class=\"token instruction\"><span class=\"token keyword\">ENTRYPOINT</span> [<span class=\"token string\">\"dotnet\"</span>, <span class=\"token string\">\"RemoteProcessKill.dll\"</span>]</span></code></pre></div>\n<ul>\n<li>위는 전체 소스 이고 아래 소스를 추가하여 테스트 진행중</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> ubuntu </span>\n<span class=\"token instruction\"><span class=\"token keyword\">ENV</span> builddir=build</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> mkdir <span class=\"token operator\">\\</span><span class=\"token variable\">${builddir}</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get update</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get install -y wget apt-transport-https software-properties-common</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> wget -q <span class=\"token string\">\"https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/packages-microsoft-prod.deb\"</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> dpkg -i packages-microsoft-prod.deb</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get update</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> add-apt-repository universe</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get install -y powershell</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get install -y gss-ntlmssp</span></code></pre></div>","frontmatter":{"title":"Akka.Net을 이용한 환경구성 이해와 도커환경 테스트","date":"August 09, 2022"}}},"pageContext":{"slug":"/PoC/2022-08-09-Akka.Net을-이용한-환경구성-이해와-도커환경-테스트/","previous":{"fields":{"slug":"/PoC/2022-08-09-로그스태시-도커-환경-구성과-동작-테스트/"},"frontmatter":{"title":"로그스태시 도커 환경 구성과 동작 테스트"}},"next":{"fields":{"slug":"/Algorithm/2022-08-11-카카오2020-자물쇠와-열쇠/"},"frontmatter":{"title":"카카오2020 자물쇠와 열쇠"}}}},"staticQueryHashes":["2486386679","3128451518"]}