{"componentChunkName":"component---src-templates-blog-post-js","path":"/DataBase/2022-06-02-oracle과-postgres-5일차-6일차비교/","result":{"data":{"site":{"siteMetadata":{"title":"3DPIT Study Blog","author":"[KyeongMinPark]","siteUrl":"https://3dpit.github.io","comment":{"disqusShortName":"","utterances":"3dpit/3dpit.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"099bdc31-2f34-51a2-880f-baee34360095","excerpt":"2022-06-02-oracle과-postgres-5일차-6일차-비교 목차  01.WITH절과 CTE  01.1 비재귀적 CTE  01.2 재귀적 CTE  02.INSERT  03.UPDATE  04.DELETE FROM  05.MERGE 01.WITH절과 CTE 01.1 비재귀적 CTE Oracle, Postgres 01.2 재귀적 CTE Oracle Postrgres 차이  recursive 추가 됨 before  after  02.INSERT Oracle Postgres before…","html":"<h2 id=\"2022-06-02-oracle과-postgres-5일차-6일차-비교\" style=\"position:relative;\"><a href=\"#2022-06-02-oracle%EA%B3%BC-postgres-5%EC%9D%BC%EC%B0%A8-6%EC%9D%BC%EC%B0%A8-%EB%B9%84%EA%B5%90\" aria-label=\"2022 06 02 oracle과 postgres 5일차 6일차 비교 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2022-06-02-oracle과-postgres-5일차-6일차-비교</h2>\n<h2 id=\"목차\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%EC%B0%A8\" aria-label=\"목차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목차</h2>\n<blockquote>\n<p> 01.WITH절과 CTE</p>\n<blockquote>\n<p> 01.1 비재귀적 CTE</p>\n<p> 01.2 재귀적 CTE</p>\n</blockquote>\n<p> 02.INSERT</p>\n<p> 03.UPDATE</p>\n<p> 04.DELETE FROM</p>\n<p> 05.MERGE</p>\n</blockquote>\n<h2 id=\"01with절과-cte\" style=\"position:relative;\"><a href=\"#01with%EC%A0%88%EA%B3%BC-cte\" aria-label=\"01with절과 cte permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>01.WITH절과 CTE</h2>\n<h3 id=\"011-비재귀적-cte\" style=\"position:relative;\"><a href=\"#011-%EB%B9%84%EC%9E%AC%EA%B7%80%EC%A0%81-cte\" aria-label=\"011 비재귀적 cte permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>01.1 비재귀적 CTE</h3>\n<ul>\n<li>\n<p><strong>Oracle, Postgres</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">WITH</span> abc<span class=\"token punctuation\">(</span>userID<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>  <span class=\"token keyword\">SELECT</span> userID<span class=\"token punctuation\">,</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>price<span class=\"token operator\">*</span>amount<span class=\"token punctuation\">)</span>  \n    <span class=\"token keyword\">FROM</span> buyTbl  <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> userID  <span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> abc <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> total <span class=\"token keyword\">DESC</span> <span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> abc<span class=\"token punctuation\">(</span>userID<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>  <span class=\"token keyword\">SELECT</span> userID<span class=\"token punctuation\">,</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>price<span class=\"token operator\">*</span>amount<span class=\"token punctuation\">)</span>  \n    <span class=\"token keyword\">FROM</span> buyTbl  <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> userID  <span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> userID <span class=\"token keyword\">AS</span> <span class=\"token string\">\"사용자\"</span><span class=\"token punctuation\">,</span> total <span class=\"token keyword\">AS</span> <span class=\"token string\">\"총 구매액\"</span> <span class=\"token keyword\">FROM</span> abc <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> total <span class=\"token keyword\">DESC</span> <span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> cte_userTbl<span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">,</span> maxHeight<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span> <span class=\"token keyword\">SELECT</span> addr<span class=\"token punctuation\">,</span> <span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>height<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> userTbl <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> addr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>maxHeight<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token string\">\"각 지역별 최고키 평균\"</span> <span class=\"token keyword\">FROM</span> cte_userTbl<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> \nAAA<span class=\"token punctuation\">(</span>userID<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">)</span>\n <span class=\"token keyword\">AS</span>\n   <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> userID<span class=\"token punctuation\">,</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>price<span class=\"token operator\">*</span>amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> buyTbl <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> userID <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nBBB<span class=\"token punctuation\">(</span>sumtotal<span class=\"token punctuation\">)</span>\n <span class=\"token keyword\">AS</span>\n    <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>total<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> AAA <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nCCC<span class=\"token punctuation\">(</span>sumavg<span class=\"token punctuation\">)</span>\n <span class=\"token keyword\">AS</span>\n    <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>  sumtotal <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> buyTbl<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> BBB<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> CCC<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"012-재귀적-cte\" style=\"position:relative;\"><a href=\"#012-%EC%9E%AC%EA%B7%80%EC%A0%81-cte\" aria-label=\"012 재귀적 cte permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>01.2 재귀적 CTE</h3>\n<ul>\n<li>\n<p><strong>Oracle</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> empTbl <span class=\"token punctuation\">(</span>emp <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> manager <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> department <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'나사장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'없음'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'없음'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'김재무'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'나사장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'김부장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'김재무'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이부장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'김재무'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'우대리'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'이부장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'지사원'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'이부장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이영업'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'나사장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'영업부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'한과장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'이영업'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'영업부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'최정보'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'나사장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'정보부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'윤차장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'최정보'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'정보부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이주임'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'윤차장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'정보부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> empCTE<span class=\"token punctuation\">(</span>empName<span class=\"token punctuation\">,</span> mgrName<span class=\"token punctuation\">,</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">(</span> <span class=\"token keyword\">SELECT</span> emp<span class=\"token punctuation\">,</span> manager<span class=\"token punctuation\">,</span> department <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>  \n     <span class=\"token keyword\">FROM</span> empTbl \n     <span class=\"token keyword\">WHERE</span> manager <span class=\"token operator\">=</span> <span class=\"token string\">'없음'</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 상관이 없는 사람이 바로 사장</span>\n<span class=\"token keyword\">UNION</span> <span class=\"token keyword\">ALL</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> empTbl<span class=\"token punctuation\">.</span>emp<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>manager<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>department<span class=\"token punctuation\">,</span> empCTE<span class=\"token punctuation\">.</span>empLevel<span class=\"token operator\">+</span><span class=\"token number\">1</span>\n <span class=\"token keyword\">FROM</span> empTbl <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> empCTE \n      <span class=\"token keyword\">ON</span> empTbl<span class=\"token punctuation\">.</span>manager <span class=\"token operator\">=</span> empCTE<span class=\"token punctuation\">.</span>empName<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> empCTE <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> empCTE<span class=\"token punctuation\">(</span>empName<span class=\"token punctuation\">,</span> mgrName<span class=\"token punctuation\">,</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">(</span> <span class=\"token keyword\">SELECT</span> emp<span class=\"token punctuation\">,</span> manager<span class=\"token punctuation\">,</span> department <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>  \n     <span class=\"token keyword\">FROM</span> empTbl \n     <span class=\"token keyword\">WHERE</span> manager <span class=\"token operator\">=</span> <span class=\"token string\">'없음'</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 상관이 없는 사람이 바로 사장</span>\n<span class=\"token keyword\">UNION</span> <span class=\"token keyword\">ALL</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> empTbl<span class=\"token punctuation\">.</span>emp<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>manager<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>department<span class=\"token punctuation\">,</span> empCTE<span class=\"token punctuation\">.</span>empLevel<span class=\"token operator\">+</span><span class=\"token number\">1</span>\n <span class=\"token keyword\">FROM</span> empTbl <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> empCTE \n      <span class=\"token keyword\">ON</span> empTbl<span class=\"token punctuation\">.</span>manager <span class=\"token operator\">=</span> empCTE<span class=\"token punctuation\">.</span>empName<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> CONCAT<span class=\"token punctuation\">(</span>RPAD<span class=\"token punctuation\">(</span><span class=\"token string\">' ㄴ'</span><span class=\"token punctuation\">,</span> empLevel<span class=\"token operator\">*</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ㄴ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  empName<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token string\">\"직원이름\"</span><span class=\"token punctuation\">,</span> dept <span class=\"token keyword\">AS</span> <span class=\"token string\">\"직원부서\"</span>\n <span class=\"token keyword\">FROM</span> empCTE  <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> empCTE<span class=\"token punctuation\">(</span>empName<span class=\"token punctuation\">,</span> mgrName<span class=\"token punctuation\">,</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">(</span> <span class=\"token keyword\">SELECT</span> emp<span class=\"token punctuation\">,</span> manager<span class=\"token punctuation\">,</span> department <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>  \n     <span class=\"token keyword\">FROM</span> empTbl \n     <span class=\"token keyword\">WHERE</span> manager <span class=\"token operator\">=</span> <span class=\"token string\">'없음'</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 상관이 없는 사람이 바로 사장</span>\n<span class=\"token keyword\">UNION</span> <span class=\"token keyword\">ALL</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> empTbl<span class=\"token punctuation\">.</span>emp<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>manager<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>department<span class=\"token punctuation\">,</span> empCTE<span class=\"token punctuation\">.</span>empLevel<span class=\"token operator\">+</span><span class=\"token number\">1</span>\n <span class=\"token keyword\">FROM</span> empTbl <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> empCTE \n      <span class=\"token keyword\">ON</span> empTbl<span class=\"token punctuation\">.</span>manager <span class=\"token operator\">=</span> empCTE<span class=\"token punctuation\">.</span>empName\n <span class=\"token keyword\">WHERE</span> empLevel <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> CONCAT<span class=\"token punctuation\">(</span>RPAD<span class=\"token punctuation\">(</span><span class=\"token string\">' ㄴ'</span><span class=\"token punctuation\">,</span> empLevel<span class=\"token operator\">*</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ㄴ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  empName<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token string\">\"직원이름\"</span><span class=\"token punctuation\">,</span> dept <span class=\"token keyword\">AS</span> <span class=\"token string\">\"직원부서\"</span>\n <span class=\"token keyword\">FROM</span> empCTE  <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p><strong>Postrgres</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> empTbl <span class=\"token punctuation\">(</span>emp <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> manager <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> department <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> empTBL<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> empTbl <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'나사장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'없음'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'없음'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'김재무'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'나사장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'김부장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'김재무'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이부장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'김재무'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'우대리'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'이부장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'지사원'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'이부장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'재무부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이영업'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'나사장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'영업부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'한과장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'이영업'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'영업부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'최정보'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'나사장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'정보부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'윤차장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'최정보'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'정보부'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이주임'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'윤차장'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'정보부'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> recursive empCTE<span class=\"token punctuation\">(</span>empName<span class=\"token punctuation\">,</span> mgrName<span class=\"token punctuation\">,</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">(</span> <span class=\"token keyword\">SELECT</span> emp<span class=\"token punctuation\">,</span> manager<span class=\"token punctuation\">,</span> department <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>  \n     <span class=\"token keyword\">FROM</span> empTbl \n     <span class=\"token keyword\">WHERE</span> manager <span class=\"token operator\">=</span> <span class=\"token string\">'없음'</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 상관이 없는 사람이 바로 사장</span>\n<span class=\"token keyword\">UNION</span> <span class=\"token keyword\">ALL</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> empTbl<span class=\"token punctuation\">.</span>emp<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>manager<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>department<span class=\"token punctuation\">,</span> empCTE<span class=\"token punctuation\">.</span>empLevel<span class=\"token operator\">+</span><span class=\"token number\">1</span>\n <span class=\"token keyword\">FROM</span> empTbl <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> empCTE \n      <span class=\"token keyword\">ON</span> empTbl<span class=\"token punctuation\">.</span>manager <span class=\"token operator\">=</span> empCTE<span class=\"token punctuation\">.</span>empName<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> empCTE <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> recursive empCTE<span class=\"token punctuation\">(</span>empName<span class=\"token punctuation\">,</span> mgrName<span class=\"token punctuation\">,</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">(</span> <span class=\"token keyword\">SELECT</span> emp<span class=\"token punctuation\">,</span> manager<span class=\"token punctuation\">,</span> department <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>  \n     <span class=\"token keyword\">FROM</span> empTbl \n     <span class=\"token keyword\">WHERE</span> manager <span class=\"token operator\">=</span> <span class=\"token string\">'없음'</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 상관이 없는 사람이 바로 사장</span>\n<span class=\"token keyword\">UNION</span> <span class=\"token keyword\">ALL</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> empTbl<span class=\"token punctuation\">.</span>emp<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>manager<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>department<span class=\"token punctuation\">,</span> empCTE<span class=\"token punctuation\">.</span>empLevel<span class=\"token operator\">+</span><span class=\"token number\">1</span>\n <span class=\"token keyword\">FROM</span> empTbl <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> empCTE \n      <span class=\"token keyword\">ON</span> empTbl<span class=\"token punctuation\">.</span>manager <span class=\"token operator\">=</span> empCTE<span class=\"token punctuation\">.</span>empName<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> CONCAT<span class=\"token punctuation\">(</span>RPAD<span class=\"token punctuation\">(</span><span class=\"token string\">' ㄴ'</span><span class=\"token punctuation\">,</span> empLevel<span class=\"token operator\">*</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ㄴ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  empName<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token string\">\"직원이름\"</span><span class=\"token punctuation\">,</span> dept <span class=\"token keyword\">AS</span> <span class=\"token string\">\"직원부서\"</span>\n <span class=\"token keyword\">FROM</span> empCTE  <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> recursive empCTE<span class=\"token punctuation\">(</span>empName<span class=\"token punctuation\">,</span> mgrName<span class=\"token punctuation\">,</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">(</span> <span class=\"token keyword\">SELECT</span> emp<span class=\"token punctuation\">,</span> manager<span class=\"token punctuation\">,</span> department <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>  \n     <span class=\"token keyword\">FROM</span> empTbl \n     <span class=\"token keyword\">WHERE</span> manager <span class=\"token operator\">=</span> <span class=\"token string\">'없음'</span> <span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 상관이 없는 사람이 바로 사장</span>\n<span class=\"token keyword\">UNION</span> <span class=\"token keyword\">ALL</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> empTbl<span class=\"token punctuation\">.</span>emp<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>manager<span class=\"token punctuation\">,</span> empTbl<span class=\"token punctuation\">.</span>department<span class=\"token punctuation\">,</span> empCTE<span class=\"token punctuation\">.</span>empLevel<span class=\"token operator\">+</span><span class=\"token number\">1</span>\n <span class=\"token keyword\">FROM</span> empTbl <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> empCTE \n      <span class=\"token keyword\">ON</span> empTbl<span class=\"token punctuation\">.</span>manager <span class=\"token operator\">=</span> empCTE<span class=\"token punctuation\">.</span>empName\n <span class=\"token keyword\">WHERE</span> empLevel <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> CONCAT<span class=\"token punctuation\">(</span>RPAD<span class=\"token punctuation\">(</span><span class=\"token string\">' ㄴ'</span><span class=\"token punctuation\">,</span> empLevel<span class=\"token operator\">*</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ㄴ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  empName<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token string\">\"직원이름\"</span><span class=\"token punctuation\">,</span> dept <span class=\"token keyword\">AS</span> <span class=\"token string\">\"직원부서\"</span>\n <span class=\"token keyword\">FROM</span> empCTE  <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> dept<span class=\"token punctuation\">,</span> empLevel<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>차이  recursive 추가 됨</li>\n<li>\n<p><strong>before</strong></p>\n<ul>\n<li><code class=\"language-text\">CONCAT(RPAD(' ㄴ', empLevel*2 + 1, 'ㄴ')</code></li>\n</ul>\n</li>\n<li>\n<p><strong>after</strong></p>\n<ul>\n<li><code class=\"language-text\">CONCAT(RPAD(' ㄴ', empLevel*1 + 1, 'ㄴ')</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"02insert\" style=\"position:relative;\"><a href=\"#02insert\" aria-label=\"02insert permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>02.INSERT</h2>\n<ul>\n<li>\n<p><strong>Oracle</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL1 <span class=\"token punctuation\">(</span>id  NUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> userName <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> age NUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL1 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'홍길동'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL1<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> userName<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'설현'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL1<span class=\"token punctuation\">(</span>userName<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'지민'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL2 \n <span class=\"token punctuation\">(</span>id NUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n  userName <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n  age NUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  nation <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'대한민국'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">CREATE</span> SEQUENCE idSEQ\n  <span class=\"token keyword\">START</span> <span class=\"token keyword\">WITH</span> <span class=\"token number\">1</span>   <span class=\"token comment\">-- 시작값</span>\n  INCREMENT <span class=\"token keyword\">BY</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span>  <span class=\"token comment\">-- 증가값</span>\n\n<span class=\"token keyword\">DROP</span> SEQUENCE idSEQ<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL2 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span>idSEQ<span class=\"token punctuation\">.</span>NEXTVAL<span class=\"token punctuation\">,</span> <span class=\"token string\">'유나'</span> <span class=\"token punctuation\">,</span><span class=\"token number\">25</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword\">DEFAULT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL2 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span>idSEQ<span class=\"token punctuation\">.</span>NEXTVAL<span class=\"token punctuation\">,</span> <span class=\"token string\">'혜정'</span> <span class=\"token punctuation\">,</span><span class=\"token number\">24</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'영국'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> testTBL2<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL2 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'쯔위'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'대만'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">ALTER</span> SEQUENCE idSEQ  \n INCREMENT <span class=\"token keyword\">BY</span>  <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL2 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span>idSEQ<span class=\"token punctuation\">.</span>NEXTVAL<span class=\"token punctuation\">,</span> <span class=\"token string\">'미나'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'일본'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">ALTER</span> SEQUENCE idSEQ  \n INCREMENT <span class=\"token keyword\">BY</span>  <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> testTBL2<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> idSEQ<span class=\"token punctuation\">.</span>CURRVAL <span class=\"token keyword\">FROM</span> DUAL<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token number\">100</span><span class=\"token operator\">*</span><span class=\"token number\">100</span> <span class=\"token keyword\">FROM</span> DUAL<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL3 <span class=\"token punctuation\">(</span>id  NUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span>  SEQUENCE cycleSEQ\n<span class=\"token keyword\">START</span> <span class=\"token keyword\">WITH</span> <span class=\"token number\">100</span>\nINCREMENT <span class=\"token keyword\">BY</span> <span class=\"token number\">100</span>\nMINVALUE <span class=\"token number\">100</span>   <span class=\"token comment\">-- 최소값</span>\nMAXVALUE <span class=\"token number\">300</span>   <span class=\"token comment\">-- 최대값</span>\n<span class=\"token keyword\">CYCLE</span>           <span class=\"token comment\">-- 반복설정</span>\nNOCACHE <span class=\"token punctuation\">;</span>       <span class=\"token comment\">-- 캐시 사용 안함</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL3 <span class=\"token keyword\">VALUES</span>  <span class=\"token punctuation\">(</span>cycleSEQ<span class=\"token punctuation\">.</span>NEXTVAL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL3 <span class=\"token keyword\">VALUES</span>  <span class=\"token punctuation\">(</span>cycleSEQ<span class=\"token punctuation\">.</span>NEXTVAL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL3 <span class=\"token keyword\">VALUES</span>  <span class=\"token punctuation\">(</span>cycleSEQ<span class=\"token punctuation\">.</span>NEXTVAL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL3 <span class=\"token keyword\">VALUES</span>  <span class=\"token punctuation\">(</span>cycleSEQ<span class=\"token punctuation\">.</span>NEXTVAL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> testTBL3<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL4 <span class=\"token punctuation\">(</span>empID NUMBER<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> FirstName VARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n  LastName VARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Phone VARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL4 \n<span class=\"token keyword\">SELECT</span> EMPLOYEE_ID<span class=\"token punctuation\">,</span> FIRST_NAME<span class=\"token punctuation\">,</span> LAST_NAME<span class=\"token punctuation\">,</span> PHONE_NUMBER\n  <span class=\"token keyword\">FROM</span> HR<span class=\"token punctuation\">.</span>employees <span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL5 <span class=\"token keyword\">AS</span>\n <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> EMPLOYEE_ID<span class=\"token punctuation\">,</span> FIRST_NAME<span class=\"token punctuation\">,</span> LAST_NAME<span class=\"token punctuation\">,</span> PHONE_NUMBER\n     <span class=\"token keyword\">FROM</span> HR<span class=\"token punctuation\">.</span>employees<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">COMMIT</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p><strong>Postgres</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL1 <span class=\"token punctuation\">(</span>id  <span class=\"token keyword\">numeric</span><span class=\"token punctuation\">,</span> userName <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> age <span class=\"token keyword\">numeric</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL1 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'홍길동'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL1<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> userName<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'설현'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL1<span class=\"token punctuation\">(</span>userName<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'지민'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL2 \n <span class=\"token punctuation\">(</span>id <span class=\"token keyword\">numeric</span><span class=\"token punctuation\">,</span> \n  userName <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n  age <span class=\"token keyword\">numeric</span><span class=\"token punctuation\">,</span>\n  nation <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'대한민국'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">CREATE</span> SEQUENCE idSEQ\n  <span class=\"token keyword\">START</span> <span class=\"token keyword\">WITH</span> <span class=\"token number\">1</span>   <span class=\"token comment\">-- 시작값</span>\n  INCREMENT <span class=\"token keyword\">BY</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span>  <span class=\"token comment\">-- 증가값</span>\n\n<span class=\"token keyword\">DROP</span> SEQUENCE idSEQ<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL2 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span>nextval<span class=\"token punctuation\">(</span><span class=\"token string\">'idSEQ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'유나'</span> <span class=\"token punctuation\">,</span><span class=\"token number\">25</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword\">DEFAULT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL2 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span>nextval<span class=\"token punctuation\">(</span><span class=\"token string\">'idSEQ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'혜정'</span> <span class=\"token punctuation\">,</span><span class=\"token number\">24</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'영국'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> testTBL2<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL2 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'쯔위'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'대만'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token keyword\">ALTER</span> SEQUENCE idSEQ  \n INCREMENT <span class=\"token keyword\">BY</span>  <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL2 <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span>nextval<span class=\"token punctuation\">(</span><span class=\"token string\">'idSEQ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'미나'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'일본'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> SEQUENCE idSEQ  \n INCREMENT <span class=\"token keyword\">BY</span>  <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> testTBL2<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> currval<span class=\"token punctuation\">(</span><span class=\"token string\">'idSEQ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token number\">100</span><span class=\"token operator\">*</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL3 <span class=\"token punctuation\">(</span>id  <span class=\"token keyword\">numeric</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span>  SEQUENCE cycleSEQ\n<span class=\"token keyword\">START</span> <span class=\"token keyword\">WITH</span> <span class=\"token number\">100</span>\nINCREMENT <span class=\"token keyword\">BY</span> <span class=\"token number\">100</span>\nMINVALUE <span class=\"token number\">100</span>   <span class=\"token comment\">-- 최소값</span>\nMAXVALUE <span class=\"token number\">300</span>   <span class=\"token comment\">-- 최대값</span>\n<span class=\"token keyword\">CYCLE</span> <span class=\"token punctuation\">;</span>          <span class=\"token comment\">-- 반복설정</span>\n<span class=\"token comment\">--NOCACHE ;       -- 캐시 문법 없음</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL3 <span class=\"token keyword\">VALUES</span>  <span class=\"token punctuation\">(</span>nextval<span class=\"token punctuation\">(</span><span class=\"token string\">'cycleSEQ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>nextval<span class=\"token punctuation\">(</span><span class=\"token string\">'cycleSEQ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>nextval<span class=\"token punctuation\">(</span><span class=\"token string\">'cycleSEQ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>nextval<span class=\"token punctuation\">(</span><span class=\"token string\">'cycleSEQ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> testTBL3<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL4 <span class=\"token punctuation\">(</span>empID <span class=\"token keyword\">numeric</span><span class=\"token punctuation\">,</span> FirstName <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n  LastName <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Phone <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> testTBL4 \n<span class=\"token keyword\">SELECT</span> EMPLOYEE_ID<span class=\"token punctuation\">,</span> FIRST_NAME<span class=\"token punctuation\">,</span> LAST_NAME<span class=\"token punctuation\">,</span> PHONE_NUMBER\n  <span class=\"token keyword\">FROM</span> employees <span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> testTBL5 <span class=\"token keyword\">AS</span>\n <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> EMPLOYEE_ID<span class=\"token punctuation\">,</span> FIRST_NAME<span class=\"token punctuation\">,</span> LAST_NAME<span class=\"token punctuation\">,</span> PHONE_NUMBER\n     <span class=\"token keyword\">FROM</span> employees<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">COMMIT</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><strong>before</strong></li>\n<li>idSEQ.NEXTVAL</li>\n<li>FROM DUAL</li>\n<li>NOCACHE</li>\n<li>cycleSEQ.NEXTVAL</li>\n<li><strong>after</strong></li>\n<li>nextval(‘idSEQ’)</li>\n<li>FROM DUAL (삭제)</li>\n<li>NOCACHE (삭제)</li>\n<li>nextval(‘cycleSEQ’)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"03update\" style=\"position:relative;\"><a href=\"#03update\" aria-label=\"03update permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>03.UPDATE</h2>\n<ul>\n<li>\n<p><strong>Oracle, Postgres</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> testTBL4\n  <span class=\"token keyword\">SET</span> Phone <span class=\"token operator\">=</span> <span class=\"token string\">'없음'</span>\n  <span class=\"token keyword\">WHERE</span> FirstName <span class=\"token operator\">=</span> <span class=\"token string\">'David'</span><span class=\"token punctuation\">;</span>\n  \n<span class=\"token keyword\">UPDATE</span> buyTBL <span class=\"token keyword\">SET</span> price <span class=\"token operator\">=</span> price <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span> <span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"04delete-from\" style=\"position:relative;\"><a href=\"#04delete-from\" aria-label=\"04delete from permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>04.DELETE FROM</h2>\n<ul>\n<li>\n<p><strong>Oracle</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> testTBL4 <span class=\"token keyword\">WHERE</span> FirstName <span class=\"token operator\">=</span> <span class=\"token string\">'Peter'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ROLLBACK</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 앞에서 지운 'Peter'를 되돌림</span>\n\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> testTBL4 <span class=\"token keyword\">WHERE</span> FirstName <span class=\"token operator\">=</span> <span class=\"token string\">'Peter'</span> <span class=\"token operator\">AND</span> ROWNUM <span class=\"token operator\">&lt;=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>ROLLBACK을 테스트 하려면 sql developer로 진행</li>\n</ul>\n</li>\n<li>\n<p><strong>Postgres</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">begin</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> testTBL4 <span class=\"token keyword\">WHERE</span> FirstName <span class=\"token operator\">=</span> <span class=\"token string\">'Peter'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">rollback</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> testTBL4 <span class=\"token keyword\">WHERE</span> FirstName <span class=\"token operator\">=</span> <span class=\"token string\">'Peter'</span> <span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 상위 두개만 삭제는 더 찾아봐야할 듯</span></code></pre></div>\n</li>\n<li>\n<p><strong>대용량 데이터 생성 삭제</strong></p>\n<ul>\n<li><strong>Oracle, Postgres</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> bigTBL1 <span class=\"token keyword\">AS</span>\n    <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">LEVEL</span> <span class=\"token keyword\">AS</span> bigID<span class=\"token punctuation\">,</span>\n        random<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">500000</span> <span class=\"token keyword\">AS</span>  numData\n    <span class=\"token keyword\">FROM</span> GENERATE_SERIES<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">500000</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">LEVEL</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> bigTBL2 <span class=\"token keyword\">AS</span>\n    <span class=\"token keyword\">SELECT</span>  <span class=\"token keyword\">level</span> <span class=\"token keyword\">AS</span> bigID<span class=\"token punctuation\">,</span>\n        random<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">500000</span> <span class=\"token keyword\">AS</span>  numData\n    <span class=\"token keyword\">FROM</span> GENERATE_SERIES<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">500000</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">LEVEL</span><span class=\"token punctuation\">;</span>\n    \n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> bigTBL3 <span class=\"token keyword\">AS</span>\n    <span class=\"token keyword\">SELECT</span>  <span class=\"token keyword\">level</span> <span class=\"token keyword\">AS</span> bigID<span class=\"token punctuation\">,</span>\n        <span class=\"token function\">ROUND</span><span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span>  numData\n    <span class=\"token keyword\">FROM</span> GENERATE_SERIES<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">500000</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">LEVEL</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> bigTBL1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">COMMIT</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> bigTBL2<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">TRUNCATE</span> <span class=\"token keyword\">TABLE</span> bigTBL3<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><strong>before</strong></li>\n<li><code class=\"language-text\">ROUND(DBMS_RANDOM.VALUE(1, 500000),0) AS  numData</code></li>\n<li><code class=\"language-text\">FROM DUAL CONNECT BY level &lt;= 500000;</code></li>\n<li><strong>after</strong></li>\n<li><code class=\"language-text\">random()*500000 AS  numData</code></li>\n<li><code class=\"language-text\">FROM GENERATE_SERIES(1,500000) LEVEL;</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"05merge\" style=\"position:relative;\"><a href=\"#05merge\" aria-label=\"05merge permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>05.MERGE</h2>\n<ul>\n<li>\n<p><strong>Oracle</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> memberTBL <span class=\"token keyword\">AS</span>\n <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> userID<span class=\"token punctuation\">,</span> userName<span class=\"token punctuation\">,</span> addr <span class=\"token keyword\">FROM</span> userTbl <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> memberTBL<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> changeTBL\n<span class=\"token punctuation\">(</span> userID <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> \nuserName NVARCHAR2<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \naddr <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nchangeType <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 변경 사유</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> changeTBL <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'TKV'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'태권브이'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'한국'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'신규가입'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> changeTBL <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'LSG'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'제주'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'주소변경'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> changeTBL <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'LJB'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'영국'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'주소변경'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> changeTBL <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'BBK'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'탈퇴'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'회원탈퇴'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> changeTBL <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'SSK'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'탈퇴'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'회원탈퇴'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">MERGE</span> <span class=\"token keyword\">INTO</span> memberTBL M  \n<span class=\"token keyword\">USING</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> changeType<span class=\"token punctuation\">,</span> userID<span class=\"token punctuation\">,</span> userName<span class=\"token punctuation\">,</span> addr <span class=\"token keyword\">FROM</span> changeTBL<span class=\"token punctuation\">)</span>  C  \n<span class=\"token keyword\">ON</span> <span class=\"token punctuation\">(</span>M<span class=\"token punctuation\">.</span>userID <span class=\"token operator\">=</span> C<span class=\"token punctuation\">.</span>userID<span class=\"token punctuation\">)</span>  \n<span class=\"token keyword\">WHEN</span> <span class=\"token keyword\">MATCHED</span>  <span class=\"token keyword\">THEN</span>\n    <span class=\"token keyword\">UPDATE</span> <span class=\"token keyword\">SET</span> M<span class=\"token punctuation\">.</span>addr <span class=\"token operator\">=</span> C<span class=\"token punctuation\">.</span>addr\n    <span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">WHERE</span> C<span class=\"token punctuation\">.</span>changeType <span class=\"token operator\">=</span> <span class=\"token string\">'회원탈퇴'</span>\n<span class=\"token keyword\">WHEN</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">MATCHED</span>  <span class=\"token keyword\">THEN</span>\n   <span class=\"token keyword\">INSERT</span> <span class=\"token punctuation\">(</span>userID<span class=\"token punctuation\">,</span> userName<span class=\"token punctuation\">,</span>  addr<span class=\"token punctuation\">)</span>  <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">.</span>userID<span class=\"token punctuation\">,</span> C<span class=\"token punctuation\">.</span>userName<span class=\"token punctuation\">,</span>  C<span class=\"token punctuation\">.</span>addr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> memberTBL<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p><strong>Postgres</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> memberTBL <span class=\"token keyword\">AS</span>\n <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> userID<span class=\"token punctuation\">,</span> userName<span class=\"token punctuation\">,</span> addr <span class=\"token keyword\">FROM</span> userTbl <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> memberTBL<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> changeTBL\n<span class=\"token punctuation\">(</span> userID <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> \nuserName <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \naddr <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nchangeType <span class=\"token keyword\">NCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 변경 사유</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> changeTBL <span class=\"token keyword\">VALUES</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'TKV'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'태권브이'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'한국'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'신규가입'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'LSG'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'제주'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'주소변경'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'LJB'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'영국'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'주소변경'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'BBK'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'탈퇴'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'회원탈퇴'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'SSK'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'탈퇴'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'회원탈퇴'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">WITH</span> upsert <span class=\"token keyword\">AS</span> <span class=\"token punctuation\">(</span>\n<span class=\"token keyword\">UPDATE</span> memberTBL TGT \n<span class=\"token keyword\">SET</span> addr <span class=\"token operator\">=</span> ORI<span class=\"token punctuation\">.</span>addr\n<span class=\"token keyword\">FROM</span> changeTBL ORI\n<span class=\"token keyword\">WHERE</span> TGT<span class=\"token punctuation\">.</span>userID <span class=\"token operator\">=</span> ORI<span class=\"token punctuation\">.</span>userID\n<span class=\"token keyword\">returning</span> <span class=\"token operator\">*</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> memberTBL <span class=\"token punctuation\">(</span>userID<span class=\"token punctuation\">,</span>userName<span class=\"token punctuation\">,</span>addr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> \nuserID<span class=\"token punctuation\">,</span>\nuserName<span class=\"token punctuation\">,</span>\naddr\n<span class=\"token keyword\">FROM</span> changeTBL\n<span class=\"token keyword\">WHERE</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> upsert<span class=\"token punctuation\">)</span>\n\n\n\n<span class=\"token keyword\">WITH</span> upsert <span class=\"token keyword\">AS</span> <span class=\"token punctuation\">(</span>\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">from</span> membertbl <span class=\"token keyword\">WHERE</span> addr <span class=\"token operator\">=</span> <span class=\"token string\">'탈퇴'</span>\n<span class=\"token keyword\">returning</span> <span class=\"token operator\">*</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> memberTBL <span class=\"token punctuation\">(</span>userID<span class=\"token punctuation\">,</span>userName<span class=\"token punctuation\">,</span>addr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span> \nuserID<span class=\"token punctuation\">,</span>\nuserName<span class=\"token punctuation\">,</span>\naddr\n<span class=\"token keyword\">FROM</span> changeTBL\n<span class=\"token keyword\">WHERE</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> upsert<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> memberTBL<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>","frontmatter":{"title":"oracle과 postgres 5일차 6일차 비교","date":"June 01, 2022"}}},"pageContext":{"slug":"/DataBase/2022-06-02-oracle과-postgres-5일차-6일차비교/","previous":{"fields":{"slug":"/DataBase/2022-05-31-오라클-SELECT문개요-sqlDB생성/"},"frontmatter":{"title":"DB|4일차.SELECT문개요 sqlDB생성"}},"next":{"fields":{"slug":"/DataBase/2022-06-03-WHERE절,-GROUP-BY절,-HAVING절/"},"frontmatter":{"title":"WHERE절, GROUP BY절, HAVING절"}}}},"staticQueryHashes":["2486386679","3128451518"]}